<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Waves ‚Äî Stroke Recovery Platform</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800;900&family=Fraunces:ital,wght@0,300;0,700;1,300;1,600&display=swap" rel="stylesheet"/>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body,#root{height:100%;width:100%}
body{font-family:'Nunito',sans-serif;background:#f5ede8;color:#2d1a0e;overflow:hidden}
::-webkit-scrollbar{width:5px;height:5px}
::-webkit-scrollbar-track{background:#f0e6e0}
::-webkit-scrollbar-thumb{background:#d4b8b0;border-radius:10px}

.abbr-term{cursor:help;}
#global-tooltip{
  position:fixed;z-index:9999;pointer-events:none;
  background:#3d2010;color:#fff;border-radius:16px;
  padding:8px 14px;font-size:11px;font-family:'Nunito',sans-serif;
  font-weight:500;line-height:1.5;max-width:260px;
  box-shadow:0 8px 28px rgba(100,60,30,0.25);
  opacity:0;transition:opacity 0.13s,transform 0.13s;
  transform:translateY(5px);white-space:normal;
}
#global-tooltip.show{opacity:1;transform:translateY(0)}
#global-tooltip strong{font-weight:800;color:#f8b89a;display:block;margin-bottom:2px;font-size:12px}

input[type=range]{-webkit-appearance:none;width:100%;height:5px;border-radius:10px;outline:none;cursor:pointer;background:var(--track-bg,#e8d8d0);}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:16px;height:16px;border-radius:50%;background:var(--thumb-color,#c0392b);cursor:pointer;border:3px solid #fff;box-shadow:0 2px 8px rgba(0,0,0,0.15);transition:transform 0.1s;}
input[type=range]::-webkit-slider-thumb:hover{transform:scale(1.25)}
input[type=range]::-moz-range-thumb{width:16px;height:16px;border-radius:50%;background:var(--thumb-color,#c0392b);cursor:pointer;border:3px solid #fff;}

@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
@keyframes popIn{from{opacity:0;transform:scale(0.95)}to{opacity:1;transform:scale(1)}}
.fade-up{animation:fadeUp 0.25s ease forwards}
.pop-in{animation:popIn 0.2s ease forwards}

.nav-btn{background:none;border:none;cursor:pointer;padding:6px 14px;border-radius:20px;
  font-family:'Nunito',sans-serif;font-size:12px;font-weight:700;color:#a8887a;transition:all 0.15s}
.nav-btn:hover{background:rgba(255,255,255,0.5);color:#3d2010}
.nav-btn.active{background:rgba(255,255,255,0.7);color:#3d2010;box-shadow:0 1px 4px rgba(100,60,30,0.15)}

.card{background:rgba(255,255,255,0.75);border-radius:18px;border:1px solid rgba(200,160,140,0.3);box-shadow:0 2px 12px rgba(100,60,30,0.08);backdrop-filter:blur(4px)}
.card-hover{transition:box-shadow 0.15s,transform 0.15s;cursor:pointer}
.card-hover:hover{box-shadow:0 8px 28px rgba(100,60,30,0.14);transform:translateY(-2px)}

.badge{display:inline-flex;align-items:center;gap:3px;padding:3px 10px;border-radius:20px;
  font-size:10px;font-weight:700;letter-spacing:0.02em}
.badge-green{background:#e2f5e8;color:#2a7a40}
.badge-yellow{background:#fef5dd;color:#9a6c00}
.badge-red{background:#fdeaea;color:#b02020}
.badge-blue{background:#e2eeff;color:#2050a0}
.badge-orange{background:#fef0e2;color:#b05010}
.badge-gray{background:#f0ebe8;color:#706050}
.badge-purple{background:#f5eeff;color:#6030a0}
.badge-teal{background:#e0f5f0;color:#107060}

.progress-bar{height:7px;border-radius:10px;background:rgba(200,160,140,0.25);overflow:hidden}
.progress-fill{height:100%;border-radius:10px;transition:width 0.6s ease}

.alert-banner{padding:9px 16px;border-radius:14px;font-size:11px;font-weight:600;
  display:flex;align-items:center;gap:8px;margin-bottom:6px}
.alert-warning{background:#fef5dd;color:#9a6c00;border:1px solid #f0d888}
.alert-danger{background:#fdeaea;color:#b02020;border:1px solid #f0c0c0}
.alert-info{background:#e2eeff;color:#2050a0;border:1px solid #b8d0f8}
.alert-success{background:#e2f5e8;color:#2a7a40;border:1px solid #a8ddb8}

.tab-row{display:flex;border-bottom:1px solid rgba(200,160,140,0.25);background:rgba(255,255,255,0.5)}
.tab{padding:11px 18px;font-size:12px;font-weight:700;color:#b0907a;cursor:pointer;
  border-bottom:2px solid transparent;transition:all 0.15s;white-space:nowrap;border-radius:12px 12px 0 0;font-family:'Nunito',sans-serif}
.tab:hover{color:#3d2010;background:rgba(255,255,255,0.4)}
.tab.active{color:#3d2010;border-bottom-color:var(--wave-color,#c0392b);background:rgba(255,255,255,0.5)}

.wave-strip-tab{
  flex:0 0 auto;padding:7px 18px;cursor:pointer;transition:all 0.15s;
  border-bottom:3px solid transparent;position:relative;border-radius:12px 12px 0 0;
}
.wave-strip-tab:hover{background:rgba(255,255,255,0.4)}
.wave-strip-tab.dimmed{opacity:0.3;cursor:default;pointer-events:none}

.discipline-tag{display:inline-flex;align-items:center;gap:4px;padding:3px 8px;
  border-radius:12px;font-size:9px;font-weight:700;letter-spacing:0.04em;text-transform:uppercase}

.row-item{display:flex;align-items:center;justify-content:space-between;
  padding:6px 14px;gap:8px;transition:background 0.1s;cursor:pointer;border-radius:10px}
.row-item:hover{background:rgba(255,255,255,0.6)}

.cohort-bar{height:9px;background:rgba(200,160,140,0.25);border-radius:10px;position:relative;overflow:visible}
.cohort-avg{position:absolute;top:-4px;width:2px;height:17px;background:#3d2010;border-radius:1px}
.cohort-patient{position:absolute;top:0;height:100%;background:linear-gradient(90deg,#c0392b,#27ae60);border-radius:10px;transition:width 0.6s ease}

.extend-btn{background:none;border:2px solid currentColor;border-radius:20px;padding:4px 14px;
  font-size:10px;font-weight:700;cursor:pointer;font-family:'Nunito',sans-serif;
  transition:all 0.15s;opacity:0.8}
.extend-btn:hover{opacity:1;transform:scale(1.03)}

.modal-overlay{position:fixed;inset:0;background:rgba(60,30,10,0.4);z-index:200;
  display:flex;align-items:center;justify-content:center;backdrop-filter:blur(4px)}
.modal{background:#fff5f0;border-radius:24px;border:1px solid rgba(200,160,140,0.3);
  box-shadow:0 24px 60px rgba(100,60,30,0.2);
  width:min(600px,92vw);max-height:85vh;overflow:hidden;display:flex;flex-direction:column}

/* ‚îÄ‚îÄ Calendar event pill ‚îÄ‚îÄ */
.cal-event{border-radius:10px;padding:5px 10px;font-size:10px;font-weight:700;
  display:flex;align-items:center;gap:5px;cursor:pointer;transition:all 0.12s;
  border:1px solid transparent;position:relative}
.cal-event:hover{transform:scale(1.02);box-shadow:0 3px 12px rgba(0,0,0,0.12)}
.cal-event.break-day{opacity:0.65}

/* ‚îÄ‚îÄ Archive row ‚îÄ‚îÄ */
.archive-row{display:flex;align-items:center;gap:12px;padding:9px 14px;
  border-radius:12px;transition:background 0.1s;cursor:pointer;border:1px solid transparent}
.archive-row:hover{background:rgba(255,255,255,0.7);border-color:rgba(200,160,140,0.3)}

/* ‚îÄ‚îÄ Timeline ‚îÄ‚îÄ */
.timeline-wave-bar{
  height:28px;display:flex;align-items:center;justify-content:center;
  font-size:10px;font-weight:700;color:#fff;overflow:hidden;
  transition:flex 0.4s ease;position:relative;
}
.today-line{
  position:absolute;top:0;bottom:0;width:2px;background:#3d2010;z-index:10;
  pointer-events:none;
}
.today-line::after{
  content:'Today';position:absolute;top:-18px;left:50%;transform:translateX(-50%);
  font-size:9px;font-weight:700;color:#3d2010;white-space:nowrap;
  font-family:'Nunito',sans-serif;
}

/* ‚îÄ‚îÄ Search input ‚îÄ‚îÄ */
.search-input{
  background:rgba(255,255,255,0.7);border:1px solid rgba(200,160,140,0.4);
  border-radius:20px;padding:6px 14px 6px 32px;font-family:'Nunito',sans-serif;
  font-size:12px;color:#2d1a0e;outline:none;transition:all 0.15s;width:200px;
}
.search-input:focus{background:#fff;box-shadow:0 0 0 2px rgba(200,120,80,0.2);width:240px}
.search-wrap{position:relative;display:inline-block}
.search-wrap::before{content:'üîç';position:absolute;left:10px;top:50%;transform:translateY(-50%);font-size:11px}
</style>
</head>
<body>
<div id="global-tooltip"></div>
<div id="root"></div>
<script type="text/babel">
const {useState, useEffect, useCallback, createContext, useContext, useRef, useMemo} = React;
const ACTIVE_PATIENTS_DATA = [{"id": 1, "name": "J. Rivera", "initials": "JR", "onset": "2026-01-14", "admissionDate": "2026-01-14", "severity": "Moderate", "type": "Left MCA", "wave": 2, "waveDay": 37, "waveTotal": 21, "pct": 62, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 8, "mRS": 3, "moca": 18, "motor": "24/66", "alerts": [{"type": "warning", "msg": "Speech milestone behind ‚Äî SLP flagged vestibular concern", "disc": "SLP"}, {"type": "info", "msg": "Wave 2 day 12 of est. 21 ‚Äî tracking slightly behind cohort avg"}], "cohort": {"avg": 22, "pct": 60, "label": "Left MCA + Moderate Aphasia (n=47)"}, "recentActivity": [{"disc": "PT", "time": "09:14", "note": "Standing transfer achieved ‚Äî patient required minimal assist. Plan advanced balance work tomorrow."}, {"disc": "SLP", "time": "11:30", "note": "‚ö† Vestibular concern identified during reading task. Recommend PT hold complex balance until re-eval."}, {"disc": "OT", "time": "14:05", "note": "Dressing task completed with moderate assist. Neglect screen pending."}, {"disc": "Nursing", "time": "16:20", "note": "BP 142/88 ‚Äî above target. Notified MD. Continue monitoring q2h."}], "coverageDoctor": "Dr. M. Patel"}, {"id": 2, "name": "M. Chen", "initials": "MC", "onset": "2026-01-09", "admissionDate": "2026-01-09", "severity": "Mild", "type": "Lacunar", "wave": 3, "waveDay": 8, "waveTotal": 56, "pct": 28, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 3, "mRS": 1, "moca": 26, "motor": "52/66", "alerts": [], "cohort": {"avg": 18, "pct": 75, "label": "Lacunar stroke, mild (n=82)"}, "recentActivity": [{"disc": "PT", "time": "08:30", "note": "Ambulates 80m with cane. Ready to trial without AFO next session."}, {"disc": "OT", "time": "10:15", "note": "Independent with all basic ADL. Progressing to meal prep goals."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 3, "name": "D. Osei", "initials": "DO", "onset": "2026-01-20", "admissionDate": "2026-01-20", "severity": "Severe", "type": "Right MCA", "wave": 2, "waveDay": 3, "waveTotal": 21, "pct": 18, "status": "red", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 18, "mRS": 5, "moca": 12, "motor": "8/66", "alerts": [{"type": "danger", "msg": "High fall risk ‚Äî Nursing and PT conflict on mobility status", "disc": "Nursing"}, {"type": "warning", "msg": "Only 18% milestones met at day 3 ‚Äî severe presentation, extended wave expected"}], "cohort": {"avg": 28, "pct": 15, "label": "Right MCA, severe (n=31)"}, "recentActivity": [{"disc": "PT", "time": "10:00", "note": "Patient participated in 10 min bed mobility. Tolerated well. Safe for supervised transfer attempts."}, {"disc": "Nursing", "time": "12:30", "note": "‚ö† HIGH FALL RISK ‚Äî patient attempted to self-transfer unsafely. Do not ambulate without 2-person assist."}, {"disc": "MD", "time": "14:00", "note": "Reviewed imaging. Large territory, edema resolving. Adjust rehab intensity expectations."}], "coverageDoctor": "Dr. S. Kim"}, {"id": 4, "name": "S. Park", "initials": "SP", "onset": "2025-12-28", "admissionDate": "2025-12-28", "severity": "Moderate", "type": "Left MCA", "wave": 3, "waveDay": 22, "waveTotal": 56, "pct": 71, "status": "green", "extendedBy": 7, "setback": true, "waveDurations": {"1": 7, "2": 28, "3": 56, "4": 84, "5": 180}, "nihss": 5, "mRS": 2, "moca": 24, "motor": "48/66", "alerts": [{"type": "info", "msg": "Wave 3 setback day 12 ‚Äî fall anxiety. Wave 2 protocols resumed 5 days. Restarted Wave 3 day 17."}], "cohort": {"avg": 45, "pct": 68, "label": "Left MCA moderate (n=47)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Excellent session. Patient motivated, anxiety much improved. Ambulating 60m."}, {"disc": "OT", "time": "11:00", "note": "Meal prep completed independently! Documenting for Wave 3 transition assessment."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 5, "name": "A. Martins", "initials": "AM", "onset": "2026-02-08", "admissionDate": "2026-02-08", "severity": "Severe", "type": "Left MCA", "wave": 2, "waveDay": 6, "waveTotal": 21, "pct": 84, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 2, "mRS": 1, "moca": 12, "motor": "17/66", "alerts": [], "cohort": {"avg": 19, "pct": 85, "label": "Left MCA, severe (n=25)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 6, "name": "W. Holm", "initials": "WH", "onset": "2026-02-04", "admissionDate": "2026-02-04", "severity": "Severe", "type": "Left MCA", "wave": 2, "waveDay": 3, "waveTotal": 21, "pct": 35, "status": "yellow", "extendedBy": 14, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 9, "mRS": 2, "moca": 16, "motor": "52/66", "alerts": [{"type": "warning", "msg": "Milestone completion behind cohort average"}], "cohort": {"avg": 21, "pct": 23, "label": "Left MCA, severe (n=34)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 7, "name": "L. Lindstr√∂m", "initials": "LL", "onset": "2025-12-25", "admissionDate": "2025-12-25", "severity": "Mild", "type": "Left MCA", "wave": 3, "waveDay": 39, "waveTotal": 56, "pct": 30, "status": "red", "extendedBy": 0, "setback": true, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 10, "mRS": 5, "moca": 21, "motor": "40/66", "alerts": [{"type": "danger", "msg": "High fall risk ‚Äî multidisciplinary safety review required"}], "cohort": {"avg": 54, "pct": 37, "label": "Left MCA, mild (n=51)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 8, "name": "C. Lindqvist", "initials": "CL", "onset": "2025-12-25", "admissionDate": "2025-12-25", "severity": "Severe", "type": "Right MCA", "wave": 3, "waveDay": 45, "waveTotal": 56, "pct": 61, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 7, "mRS": 3, "moca": 12, "motor": "42/66", "alerts": [], "cohort": {"avg": 61, "pct": 51, "label": "Right MCA, severe (n=53)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 9, "name": "O. Ib√°√±ez", "initials": "OI", "onset": "2026-02-02", "admissionDate": "2026-02-02", "severity": "Moderate", "type": "Left MCA", "wave": 2, "waveDay": 4, "waveTotal": 21, "pct": 44, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 13, "mRS": 3, "moca": 12, "motor": "17/66", "alerts": [], "cohort": {"avg": 25, "pct": 57, "label": "Left MCA, moderate (n=62)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 10, "name": "U. Fernandez", "initials": "UF", "onset": "2026-02-04", "admissionDate": "2026-02-04", "severity": "Mild", "type": "Left MCA", "wave": 2, "waveDay": 7, "waveTotal": 21, "pct": 46, "status": "green", "extendedBy": 14, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 9, "mRS": 5, "moca": 23, "motor": "41/66", "alerts": [], "cohort": {"avg": 22, "pct": 42, "label": "Left MCA, mild (n=39)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. M. Patel"}, {"id": 11, "name": "P. Kowalski", "initials": "PK", "onset": "2025-03-17", "admissionDate": "2025-03-17", "severity": "Moderate", "type": "Left MCA", "wave": 5, "waveDay": 60, "waveTotal": 180, "pct": 69, "status": "green", "extendedBy": 7, "setback": true, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 13, "mRS": 5, "moca": 24, "motor": "37/66", "alerts": [], "cohort": {"avg": 179, "pct": 71, "label": "Left MCA, moderate (n=36)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 12, "name": "Y. Costa", "initials": "YC", "onset": "2025-12-27", "admissionDate": "2025-12-27", "severity": "Moderate", "type": "Right MCA", "wave": 3, "waveDay": 15, "waveTotal": 56, "pct": 73, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 9, "mRS": 5, "moca": 15, "motor": "36/66", "alerts": [], "cohort": {"avg": 52, "pct": 85, "label": "Right MCA, moderate (n=60)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 13, "name": "T. Diallo", "initials": "TD", "onset": "2025-04-08", "admissionDate": "2025-04-08", "severity": "Moderate", "type": "Lacunar", "wave": 5, "waveDay": 155, "waveTotal": 180, "pct": 15, "status": "green", "extendedBy": 7, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 1, "mRS": 1, "moca": 21, "motor": "60/66", "alerts": [], "cohort": {"avg": 188, "pct": 25, "label": "Lacunar, moderate (n=52)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. S. Kim"}, {"id": 14, "name": "H. Asamoah", "initials": "HA", "onset": "2026-02-16", "admissionDate": "2026-02-16", "severity": "Moderate", "type": "Right MCA", "wave": 1, "waveDay": 1, "waveTotal": 7, "pct": 83, "status": "red", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 16, "mRS": 5, "moca": 15, "motor": "20/66", "alerts": [{"type": "danger", "msg": "Medication compliance issue flagged by nursing"}], "cohort": {"avg": 10, "pct": 95, "label": "Right MCA, moderate (n=49)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 15, "name": "W. Alves", "initials": "WA", "onset": "2026-01-27", "admissionDate": "2026-01-27", "severity": "Moderate", "type": "Left MCA", "wave": 2, "waveDay": 17, "waveTotal": 21, "pct": 30, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 11, "mRS": 1, "moca": 28, "motor": "39/66", "alerts": [{"type": "warning", "msg": "Milestone completion behind cohort average"}], "cohort": {"avg": 19, "pct": 33, "label": "Left MCA, moderate (n=31)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 16, "name": "H. Okafor", "initials": "HO", "onset": "2026-02-15", "admissionDate": "2026-02-15", "severity": "Moderate", "type": "Left MCA", "wave": 1, "waveDay": 2, "waveTotal": 7, "pct": 50, "status": "green", "extendedBy": 14, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 18, "mRS": 2, "moca": 28, "motor": "40/66", "alerts": [], "cohort": {"avg": 9, "pct": 42, "label": "Left MCA, moderate (n=74)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 17, "name": "D. Adeyemi", "initials": "DA", "onset": "2026-01-30", "admissionDate": "2026-01-30", "severity": "Moderate", "type": "Left MCA", "wave": 2, "waveDay": 17, "waveTotal": 21, "pct": 21, "status": "yellow", "extendedBy": 14, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 21, "mRS": 1, "moca": 11, "motor": "29/66", "alerts": [{"type": "warning", "msg": "Milestone completion behind cohort average"}], "cohort": {"avg": 27, "pct": 16, "label": "Left MCA, moderate (n=46)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. M. Patel"}, {"id": 18, "name": "R. Moreau", "initials": "RM", "onset": "2026-02-04", "admissionDate": "2026-02-04", "severity": "Severe", "type": "Lacunar", "wave": 2, "waveDay": 17, "waveTotal": 21, "pct": 46, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 18, "mRS": 1, "moca": 11, "motor": "45/66", "alerts": [], "cohort": {"avg": 24, "pct": 57, "label": "Lacunar, severe (n=33)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 19, "name": "F. Asante", "initials": "FA", "onset": "2025-12-29", "admissionDate": "2025-12-29", "severity": "Mild", "type": "Lacunar", "wave": 3, "waveDay": 8, "waveTotal": 56, "pct": 36, "status": "green", "extendedBy": 0, "setback": true, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 13, "mRS": 3, "moca": 24, "motor": "22/66", "alerts": [], "cohort": {"avg": 57, "pct": 43, "label": "Lacunar, mild (n=93)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 20, "name": "E. Petrov", "initials": "EP", "onset": "2025-03-29", "admissionDate": "2025-03-29", "severity": "Severe", "type": "Left MCA", "wave": 5, "waveDay": 158, "waveTotal": 180, "pct": 22, "status": "green", "extendedBy": 14, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 2, "mRS": 5, "moca": 25, "motor": "36/66", "alerts": [], "cohort": {"avg": 188, "pct": 23, "label": "Left MCA, severe (n=29)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. M. Patel"}, {"id": 21, "name": "C. O'Brien", "initials": "CO", "onset": "2025-06-25", "admissionDate": "2025-06-25", "severity": "Moderate", "type": "Right MCA", "wave": 5, "waveDay": 123, "waveTotal": 180, "pct": 30, "status": "red", "extendedBy": 7, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 20, "mRS": 1, "moca": 12, "motor": "30/66", "alerts": [{"type": "danger", "msg": "Medication compliance issue flagged by nursing"}], "cohort": {"avg": 185, "pct": 33, "label": "Right MCA, moderate (n=62)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 22, "name": "G. L√≥pez", "initials": "GL", "onset": "2025-12-29", "admissionDate": "2025-12-29", "severity": "Severe", "type": "Right MCA", "wave": 3, "waveDay": 13, "waveTotal": 56, "pct": 53, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 3, "mRS": 1, "moca": 24, "motor": "43/66", "alerts": [], "cohort": {"avg": 60, "pct": 41, "label": "Right MCA, severe (n=90)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 23, "name": "Q. Eriksson", "initials": "QE", "onset": "2026-02-05", "admissionDate": "2026-02-05", "severity": "Moderate", "type": "Lacunar", "wave": 2, "waveDay": 14, "waveTotal": 21, "pct": 51, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 18, "mRS": 3, "moca": 26, "motor": "4/66", "alerts": [], "cohort": {"avg": 26, "pct": 62, "label": "Lacunar, moderate (n=60)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 24, "name": "E. Eriksson", "initials": "EE", "onset": "2026-01-26", "admissionDate": "2026-01-26", "severity": "Moderate", "type": "Right MCA", "wave": 2, "waveDay": 7, "waveTotal": 21, "pct": 49, "status": "red", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 11, "mRS": 2, "moca": 18, "motor": "36/66", "alerts": [{"type": "danger", "msg": "High fall risk ‚Äî multidisciplinary safety review required"}], "cohort": {"avg": 23, "pct": 42, "label": "Right MCA, moderate (n=76)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 25, "name": "B. Rivera", "initials": "BR", "onset": "2026-01-07", "admissionDate": "2026-01-07", "severity": "Moderate", "type": "Right MCA", "wave": 3, "waveDay": 15, "waveTotal": 56, "pct": 71, "status": "red", "extendedBy": 7, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 18, "mRS": 1, "moca": 13, "motor": "8/66", "alerts": [{"type": "danger", "msg": "High fall risk ‚Äî multidisciplinary safety review required"}], "cohort": {"avg": 62, "pct": 84, "label": "Right MCA, moderate (n=26)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 26, "name": "S. Souza", "initials": "SS", "onset": "2026-01-21", "admissionDate": "2026-01-21", "severity": "Severe", "type": "Lacunar", "wave": 3, "waveDay": 24, "waveTotal": 56, "pct": 61, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 7, "mRS": 2, "moca": 13, "motor": "26/66", "alerts": [], "cohort": {"avg": 63, "pct": 63, "label": "Lacunar, severe (n=41)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 27, "name": "F. Chandra", "initials": "FC", "onset": "2025-12-07", "admissionDate": "2025-12-07", "severity": "Mild", "type": "Left MCA", "wave": 3, "waveDay": 26, "waveTotal": 56, "pct": 67, "status": "green", "extendedBy": 14, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 8, "mRS": 3, "moca": 15, "motor": "54/66", "alerts": [], "cohort": {"avg": 62, "pct": 55, "label": "Left MCA, mild (n=26)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 28, "name": "H. Diallo", "initials": "HD", "onset": "2025-06-27", "admissionDate": "2025-06-27", "severity": "Moderate", "type": "Lacunar", "wave": 5, "waveDay": 77, "waveTotal": 180, "pct": 18, "status": "green", "extendedBy": 14, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 11, "mRS": 3, "moca": 12, "motor": "53/66", "alerts": [], "cohort": {"avg": 179, "pct": 14, "label": "Lacunar, moderate (n=87)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 29, "name": "V. Balogun", "initials": "VB", "onset": "2025-10-20", "admissionDate": "2025-10-20", "severity": "Mild", "type": "Right MCA", "wave": 4, "waveDay": 21, "waveTotal": 84, "pct": 89, "status": "green", "extendedBy": 0, "setback": true, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 20, "mRS": 4, "moca": 21, "motor": "50/66", "alerts": [], "cohort": {"avg": 91, "pct": 84, "label": "Right MCA, mild (n=87)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 30, "name": "M. Gonz√°lez", "initials": "MG", "onset": "2026-01-30", "admissionDate": "2026-01-30", "severity": "Mild", "type": "Lacunar", "wave": 2, "waveDay": 3, "waveTotal": 21, "pct": 81, "status": "green", "extendedBy": 7, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 22, "mRS": 2, "moca": 21, "motor": "31/66", "alerts": [], "cohort": {"avg": 17, "pct": 95, "label": "Lacunar, mild (n=64)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 31, "name": "V. Sato", "initials": "VS", "onset": "2025-12-12", "admissionDate": "2025-12-12", "severity": "Moderate", "type": "Left MCA", "wave": 3, "waveDay": 31, "waveTotal": 56, "pct": 56, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 18, "mRS": 2, "moca": 16, "motor": "30/66", "alerts": [], "cohort": {"avg": 61, "pct": 71, "label": "Left MCA, moderate (n=44)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 32, "name": "M. Souza", "initials": "MS", "onset": "2026-01-10", "admissionDate": "2026-01-10", "severity": "Mild", "type": "Left MCA", "wave": 3, "waveDay": 32, "waveTotal": 56, "pct": 89, "status": "green", "extendedBy": 7, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 15, "mRS": 4, "moca": 24, "motor": "47/66", "alerts": [], "cohort": {"avg": 54, "pct": 90, "label": "Left MCA, mild (n=43)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 33, "name": "J. Amara", "initials": "JA", "onset": "2026-02-03", "admissionDate": "2026-02-03", "severity": "Moderate", "type": "Right MCA", "wave": 2, "waveDay": 10, "waveTotal": 21, "pct": 40, "status": "green", "extendedBy": 0, "setback": true, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 8, "mRS": 4, "moca": 12, "motor": "33/66", "alerts": [], "cohort": {"avg": 22, "pct": 53, "label": "Right MCA, moderate (n=95)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 34, "name": "W. Strand", "initials": "WS", "onset": "2026-02-05", "admissionDate": "2026-02-05", "severity": "Mild", "type": "Left MCA", "wave": 2, "waveDay": 7, "waveTotal": 21, "pct": 15, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 8, "mRS": 2, "moca": 26, "motor": "33/66", "alerts": [{"type": "warning", "msg": "Milestone completion behind cohort average"}], "cohort": {"avg": 16, "pct": 17, "label": "Left MCA, mild (n=80)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 35, "name": "Z. Hoffmann", "initials": "ZH", "onset": "2026-01-27", "admissionDate": "2026-01-27", "severity": "Mild", "type": "Right MCA", "wave": 2, "waveDay": 16, "waveTotal": 21, "pct": 85, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 16, "mRS": 4, "moca": 18, "motor": "52/66", "alerts": [{"type": "warning", "msg": "Goal attainment slower than expected ‚Äî review needed"}], "cohort": {"avg": 19, "pct": 95, "label": "Right MCA, mild (n=88)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. S. Kim"}, {"id": 36, "name": "U. Nkrumah", "initials": "UN", "onset": "2025-06-12", "admissionDate": "2025-06-12", "severity": "Mild", "type": "Left MCA", "wave": 5, "waveDay": 80, "waveTotal": 180, "pct": 49, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 18, "mRS": 1, "moca": 14, "motor": "13/66", "alerts": [], "cohort": {"avg": 178, "pct": 46, "label": "Left MCA, mild (n=41)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 37, "name": "C. Carvalho", "initials": "CC", "onset": "2026-01-29", "admissionDate": "2026-01-29", "severity": "Moderate", "type": "Left MCA", "wave": 2, "waveDay": 16, "waveTotal": 21, "pct": 22, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 13, "mRS": 5, "moca": 10, "motor": "58/66", "alerts": [{"type": "warning", "msg": "Session attendance below 80% this week"}], "cohort": {"avg": 28, "pct": 25, "label": "Left MCA, moderate (n=22)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 38, "name": "J. Kabila", "initials": "JK", "onset": "2025-12-07", "admissionDate": "2025-12-07", "severity": "Severe", "type": "Left MCA", "wave": 3, "waveDay": 39, "waveTotal": 56, "pct": 92, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 9, "mRS": 4, "moca": 25, "motor": "5/66", "alerts": [{"type": "warning", "msg": "Goal attainment slower than expected ‚Äî review needed"}], "cohort": {"avg": 57, "pct": 87, "label": "Left MCA, severe (n=73)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 39, "name": "O. Bakr", "initials": "OB", "onset": "2026-02-12", "admissionDate": "2026-02-12", "severity": "Severe", "type": "Left MCA", "wave": 2, "waveDay": 5, "waveTotal": 21, "pct": 69, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 6, "mRS": 1, "moca": 18, "motor": "28/66", "alerts": [{"type": "warning", "msg": "Session attendance below 80% this week"}], "cohort": {"avg": 21, "pct": 60, "label": "Left MCA, severe (n=65)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. S. Kim"}, {"id": 40, "name": "I. Kabila", "initials": "IK", "onset": "2025-09-23", "admissionDate": "2025-09-23", "severity": "Mild", "type": "Left MCA", "wave": 4, "waveDay": 11, "waveTotal": 84, "pct": 84, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 12, "mRS": 2, "moca": 12, "motor": "53/66", "alerts": [], "cohort": {"avg": 89, "pct": 70, "label": "Left MCA, mild (n=53)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 41, "name": "A. Moreno", "initials": "AM", "onset": "2026-01-28", "admissionDate": "2026-01-28", "severity": "Severe", "type": "Lacunar", "wave": 2, "waveDay": 6, "waveTotal": 21, "pct": 87, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 9, "mRS": 3, "moca": 15, "motor": "42/66", "alerts": [], "cohort": {"avg": 25, "pct": 95, "label": "Lacunar, severe (n=36)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. J. Lindqvist"}, {"id": 42, "name": "J. Russo", "initials": "JR", "onset": "2026-01-31", "admissionDate": "2026-01-31", "severity": "Mild", "type": "Left MCA", "wave": 2, "waveDay": 15, "waveTotal": 21, "pct": 40, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 21, "mRS": 2, "moca": 13, "motor": "48/66", "alerts": [{"type": "warning", "msg": "Goal attainment slower than expected ‚Äî review needed"}], "cohort": {"avg": 28, "pct": 34, "label": "Left MCA, mild (n=37)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 43, "name": "L. Balogun", "initials": "LB", "onset": "2026-02-15", "admissionDate": "2026-02-15", "severity": "Moderate", "type": "Left MCA", "wave": 1, "waveDay": 6, "waveTotal": 7, "pct": 58, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 16, "mRS": 1, "moca": 23, "motor": "27/66", "alerts": [], "cohort": {"avg": 12, "pct": 71, "label": "Left MCA, moderate (n=41)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}, {"id": 44, "name": "F. Kamau", "initials": "FK", "onset": "2025-09-24", "admissionDate": "2025-09-24", "severity": "Moderate", "type": "Left MCA", "wave": 4, "waveDay": 37, "waveTotal": 84, "pct": 90, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 8, "mRS": 1, "moca": 18, "motor": "60/66", "alerts": [{"type": "warning", "msg": "Session attendance below 80% this week"}], "cohort": {"avg": 86, "pct": 82, "label": "Left MCA, moderate (n=70)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 45, "name": "A. Fernandez", "initials": "AF", "onset": "2026-01-10", "admissionDate": "2026-01-10", "severity": "Moderate", "type": "Right MCA", "wave": 3, "waveDay": 27, "waveTotal": 56, "pct": 48, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 20, "mRS": 3, "moca": 27, "motor": "4/66", "alerts": [{"type": "warning", "msg": "Milestone completion behind cohort average"}], "cohort": {"avg": 59, "pct": 63, "label": "Right MCA, moderate (n=52)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 46, "name": "P. Gustafsson", "initials": "PG", "onset": "2025-09-21", "admissionDate": "2025-09-21", "severity": "Mild", "type": "Lacunar", "wave": 4, "waveDay": 38, "waveTotal": 84, "pct": 17, "status": "red", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 13, "mRS": 2, "moca": 19, "motor": "46/66", "alerts": [{"type": "danger", "msg": "Deterioration noted ‚Äî urgent reassessment needed"}], "cohort": {"avg": 88, "pct": 13, "label": "Lacunar, mild (n=89)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. E. Osei"}, {"id": 47, "name": "N. Sandberg", "initials": "NS", "onset": "2025-12-25", "admissionDate": "2025-12-25", "severity": "Moderate", "type": "Right MCA", "wave": 3, "waveDay": 22, "waveTotal": 56, "pct": 54, "status": "red", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 7, "mRS": 3, "moca": 13, "motor": "51/66", "alerts": [{"type": "danger", "msg": "Medication compliance issue flagged by nursing"}], "cohort": {"avg": 59, "pct": 69, "label": "Right MCA, moderate (n=46)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. M. Patel"}, {"id": 48, "name": "X. Johanssen", "initials": "XJ", "onset": "2026-02-03", "admissionDate": "2026-02-03", "severity": "Moderate", "type": "Left MCA", "wave": 2, "waveDay": 6, "waveTotal": 21, "pct": 39, "status": "yellow", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 6, "mRS": 3, "moca": 10, "motor": "49/66", "alerts": [{"type": "warning", "msg": "Session attendance below 80% this week"}], "cohort": {"avg": 24, "pct": 28, "label": "Left MCA, moderate (n=28)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 49, "name": "W. Bakr", "initials": "WB", "onset": "2025-12-18", "admissionDate": "2025-12-18", "severity": "Moderate", "type": "Lacunar", "wave": 3, "waveDay": 23, "waveTotal": 56, "pct": 75, "status": "green", "extendedBy": 0, "setback": false, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 6, "mRS": 1, "moca": 18, "motor": "59/66", "alerts": [], "cohort": {"avg": 58, "pct": 63, "label": "Lacunar, moderate (n=73)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. A. Chen"}, {"id": 50, "name": "C. Gonz√°lez", "initials": "CG", "onset": "2025-04-02", "admissionDate": "2025-04-02", "severity": "Moderate", "type": "Left MCA", "wave": 5, "waveDay": 97, "waveTotal": 180, "pct": 25, "status": "green", "extendedBy": 0, "setback": true, "waveDurations": {"1": 7, "2": 21, "3": 56, "4": 84, "5": 180}, "nihss": 14, "mRS": 5, "moca": 17, "motor": "53/66", "alerts": [], "cohort": {"avg": 183, "pct": 22, "label": "Left MCA, moderate (n=78)"}, "recentActivity": [{"disc": "PT", "time": "09:00", "note": "Mobility session completed. Progress documented."}, {"disc": "OT", "time": "11:00", "note": "ADL assessment ‚Äî patient engaged well."}], "coverageDoctor": "Dr. R. Torres"}];
const ARCHIVED_PATIENTS_DATA = [{"id": 1000, "name": "J. Adjei", "initials": "JA", "admissionDate": "2024-04-07", "dischargeDate": "2024-06-26", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 16, "finalNIHSS": 2, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 80}, {"id": 1001, "name": "H. Chandra", "initials": "HC", "admissionDate": "2024-10-30", "dischargeDate": "2025-07-17", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 15, "finalNIHSS": 3, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 260}, {"id": 1002, "name": "J. Conteh", "initials": "JC", "admissionDate": "2024-01-19", "dischargeDate": "2024-06-16", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 3, "finalMoCA": 17, "finalNIHSS": 8, "outcome": "Moderate", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 149}, {"id": 1003, "name": "H. Costa", "initials": "HC", "admissionDate": "2025-10-10", "dischargeDate": "2025-12-09", "severity": "Mild", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 23, "finalNIHSS": 7, "outcome": "Good", "dischargeReason": "Transferred to long-term care facility", "stayDays": 60}, {"id": 1004, "name": "D. Hoffmann", "initials": "DH", "admissionDate": "2024-07-28", "dischargeDate": "2025-05-30", "severity": "Severe", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 15, "finalNIHSS": 6, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 306}, {"id": 1005, "name": "X. Eze", "initials": "XE", "admissionDate": "2025-05-02", "dischargeDate": "2026-02-06", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 15, "finalNIHSS": 2, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 280}, {"id": 1006, "name": "P. Rodrigues", "initials": "PR", "admissionDate": "2024-05-02", "dischargeDate": "2025-01-10", "severity": "Mild", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 3, "finalMoCA": 25, "finalNIHSS": 6, "outcome": "Partial", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 253}, {"id": 1007, "name": "K. Eze", "initials": "KE", "admissionDate": "2024-10-27", "dischargeDate": "2025-11-16", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 15, "finalNIHSS": 7, "outcome": "Partial", "dischargeReason": "Transferred to long-term care facility", "stayDays": 385}, {"id": 1008, "name": "C. Kristiansen", "initials": "CK", "admissionDate": "2023-10-23", "dischargeDate": "2024-06-15", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 4, "finalMoCA": 28, "finalNIHSS": 6, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 236}, {"id": 1009, "name": "B. Petrov", "initials": "BP", "admissionDate": "2023-11-05", "dischargeDate": "2023-12-31", "severity": "Mild", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 18, "finalNIHSS": 4, "outcome": "Good", "dischargeReason": "Transferred to long-term care facility", "stayDays": 56}, {"id": 1010, "name": "O. Strand", "initials": "OS", "admissionDate": "2024-03-17", "dischargeDate": "2025-02-21", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 14, "finalNIHSS": 8, "outcome": "Good", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 341}, {"id": 1011, "name": "N. Kowalski", "initials": "NK", "admissionDate": "2025-08-24", "dischargeDate": "2026-01-10", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 22, "finalNIHSS": 6, "outcome": "Partial", "dischargeReason": "Transferred to long-term care facility", "stayDays": 139}, {"id": 1012, "name": "P. Andrade", "initials": "PA", "admissionDate": "2024-11-25", "dischargeDate": "2025-04-01", "severity": "Mild", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 0, "finalMoCA": 22, "finalNIHSS": 6, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 127}, {"id": 1013, "name": "K. Ramirez", "initials": "KR", "admissionDate": "2023-12-10", "dischargeDate": "2024-06-09", "severity": "Mild", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 28, "finalNIHSS": 8, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 182}, {"id": 1014, "name": "P. Boateng", "initials": "PB", "admissionDate": "2024-09-12", "dischargeDate": "2025-03-25", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 26, "finalNIHSS": 3, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 194}, {"id": 1015, "name": "Y. Asante", "initials": "YA", "admissionDate": "2023-12-31", "dischargeDate": "2024-08-12", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 15, "finalNIHSS": 2, "outcome": "Partial", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 225}, {"id": 1016, "name": "Q. Adjei", "initials": "QA", "admissionDate": "2025-09-11", "dischargeDate": "2026-01-30", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 18, "finalNIHSS": 1, "outcome": "Excellent", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 141}, {"id": 1017, "name": "P. Ramirez", "initials": "PR", "admissionDate": "2024-02-26", "dischargeDate": "2024-05-07", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 2, "finalMoCA": 29, "finalNIHSS": 8, "outcome": "Moderate", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 71}, {"id": 1018, "name": "B. Moreno", "initials": "BM", "admissionDate": "2025-05-04", "dischargeDate": "2025-07-19", "severity": "Severe", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 28, "finalNIHSS": 2, "outcome": "Partial", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 76}, {"id": 1019, "name": "W. Dubois", "initials": "WD", "admissionDate": "2023-09-29", "dischargeDate": "2023-11-26", "severity": "Mild", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 27, "finalNIHSS": 2, "outcome": "Moderate", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 58}, {"id": 1020, "name": "H. Nilsson", "initials": "HN", "admissionDate": "2025-06-26", "dischargeDate": "2025-09-04", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 21, "finalNIHSS": 7, "outcome": "Complex discharge", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 70}, {"id": 1021, "name": "S. Mehta", "initials": "SM", "admissionDate": "2024-09-08", "dischargeDate": "2025-02-15", "severity": "Mild", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 19, "finalNIHSS": 1, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 160}, {"id": 1022, "name": "O. Boateng", "initials": "OB", "admissionDate": "2024-09-11", "dischargeDate": "2025-03-14", "severity": "Severe", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 17, "finalNIHSS": 3, "outcome": "Good", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 184}, {"id": 1023, "name": "L. Gonz√°lez", "initials": "LG", "admissionDate": "2024-02-17", "dischargeDate": "2024-10-06", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 4, "finalMoCA": 15, "finalNIHSS": 7, "outcome": "Moderate", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 232}, {"id": 1024, "name": "J. Diarra", "initials": "JD", "admissionDate": "2024-03-11", "dischargeDate": "2024-07-16", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 1, "finalMoCA": 17, "finalNIHSS": 0, "outcome": "Complex discharge", "dischargeReason": "Transferred to long-term care facility", "stayDays": 127}, {"id": 1025, "name": "J. Ramirez", "initials": "JR", "admissionDate": "2023-12-04", "dischargeDate": "2024-03-10", "severity": "Mild", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 27, "finalNIHSS": 2, "outcome": "Excellent", "dischargeReason": "Transferred to long-term care facility", "stayDays": 97}, {"id": 1026, "name": "G. Bakr", "initials": "GB", "admissionDate": "2025-07-07", "dischargeDate": "2025-12-15", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 17, "finalNIHSS": 7, "outcome": "Partial", "dischargeReason": "Transferred to long-term care facility", "stayDays": 161}, {"id": 1027, "name": "C. Mehta", "initials": "CM", "admissionDate": "2025-09-21", "dischargeDate": "2026-01-01", "severity": "Severe", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 25, "finalNIHSS": 4, "outcome": "Moderate", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 102}, {"id": 1028, "name": "S. Ib√°√±ez", "initials": "SI", "admissionDate": "2024-08-27", "dischargeDate": "2024-10-08", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 21, "finalNIHSS": 1, "outcome": "Complex discharge", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 42}, {"id": 1029, "name": "U. Hoffmann", "initials": "UH", "admissionDate": "2025-08-01", "dischargeDate": "2025-09-23", "severity": "Severe", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 3, "finalMoCA": 17, "finalNIHSS": 1, "outcome": "Excellent", "dischargeReason": "Transferred to long-term care facility", "stayDays": 53}, {"id": 1030, "name": "H. Balogun", "initials": "HB", "admissionDate": "2024-12-08", "dischargeDate": "2025-12-16", "severity": "Severe", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 18, "finalNIHSS": 6, "outcome": "Complex discharge", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 373}, {"id": 1031, "name": "U. Adeyemi", "initials": "UA", "admissionDate": "2025-11-19", "dischargeDate": "2026-01-24", "severity": "Severe", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 21, "finalNIHSS": 5, "outcome": "Good", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 66}, {"id": 1032, "name": "D. Bangura", "initials": "DB", "admissionDate": "2025-10-21", "dischargeDate": "2026-01-18", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 16, "finalNIHSS": 3, "outcome": "Good", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 89}, {"id": 1033, "name": "U. Kamara", "initials": "UK", "admissionDate": "2025-04-17", "dischargeDate": "2025-07-20", "severity": "Mild", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 20, "finalNIHSS": 3, "outcome": "Complex discharge", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 94}, {"id": 1034, "name": "H. M√ºller", "initials": "HM", "admissionDate": "2025-07-27", "dischargeDate": "2025-10-31", "severity": "Mild", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 17, "finalNIHSS": 0, "outcome": "Complex discharge", "dischargeReason": "Transferred to long-term care facility", "stayDays": 96}, {"id": 1035, "name": "E. Chen", "initials": "EC", "admissionDate": "2025-12-06", "dischargeDate": "2026-01-17", "severity": "Severe", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 30, "finalNIHSS": 1, "outcome": "Excellent", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 42}, {"id": 1036, "name": "X. Okafor", "initials": "XO", "admissionDate": "2024-07-15", "dischargeDate": "2025-06-13", "severity": "Mild", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 4, "finalMoCA": 21, "finalNIHSS": 0, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 333}, {"id": 1037, "name": "X. Ramirez", "initials": "XR", "admissionDate": "2025-10-21", "dischargeDate": "2026-01-26", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 3, "finalMoCA": 28, "finalNIHSS": 1, "outcome": "Partial", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 97}, {"id": 1038, "name": "C. Eze", "initials": "CE", "admissionDate": "2025-03-16", "dischargeDate": "2026-02-10", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 3, "finalMoCA": 30, "finalNIHSS": 4, "outcome": "Complex discharge", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 331}, {"id": 1039, "name": "O. Wiberg", "initials": "OW", "admissionDate": "2024-02-21", "dischargeDate": "2025-02-18", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 3, "finalMoCA": 28, "finalNIHSS": 3, "outcome": "Complex discharge", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 363}, {"id": 1040, "name": "N. Svensson", "initials": "NS", "admissionDate": "2023-12-06", "dischargeDate": "2024-02-22", "severity": "Severe", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 2, "finalMoCA": 22, "finalNIHSS": 5, "outcome": "Moderate", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 78}, {"id": 1041, "name": "E. Bangura", "initials": "EB", "admissionDate": "2025-09-26", "dischargeDate": "2025-12-12", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 18, "finalNIHSS": 8, "outcome": "Partial", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 77}, {"id": 1042, "name": "B. Adjei", "initials": "BA", "admissionDate": "2024-12-25", "dischargeDate": "2025-12-30", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 2, "finalMoCA": 23, "finalNIHSS": 5, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 370}, {"id": 1043, "name": "D. Gonz√°lez", "initials": "DG", "admissionDate": "2025-05-07", "dischargeDate": "2025-07-31", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 22, "finalNIHSS": 3, "outcome": "Moderate", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 85}, {"id": 1044, "name": "Z. Nakamura", "initials": "ZN", "admissionDate": "2025-06-21", "dischargeDate": "2025-12-07", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 14, "finalNIHSS": 2, "outcome": "Moderate", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 169}, {"id": 1045, "name": "E. Asamoah", "initials": "EA", "admissionDate": "2023-11-25", "dischargeDate": "2024-11-13", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 20, "finalNIHSS": 6, "outcome": "Excellent", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 354}, {"id": 1046, "name": "N. Alabi", "initials": "NA", "admissionDate": "2025-02-06", "dischargeDate": "2026-01-21", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 18, "finalNIHSS": 2, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 349}, {"id": 1047, "name": "Y. Moreno", "initials": "YM", "admissionDate": "2024-09-25", "dischargeDate": "2025-09-28", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 4, "finalMoCA": 28, "finalNIHSS": 6, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 368}, {"id": 1048, "name": "I. Hassan", "initials": "IH", "admissionDate": "2025-08-31", "dischargeDate": "2026-02-13", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 23, "finalNIHSS": 0, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 166}, {"id": 1049, "name": "H. Fischer", "initials": "HF", "admissionDate": "2025-02-17", "dischargeDate": "2025-07-05", "severity": "Mild", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 2, "finalMoCA": 24, "finalNIHSS": 1, "outcome": "Good", "dischargeReason": "Transferred to long-term care facility", "stayDays": 138}, {"id": 1050, "name": "X. Addo", "initials": "XA", "admissionDate": "2024-06-25", "dischargeDate": "2025-07-20", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 26, "finalNIHSS": 0, "outcome": "Good", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 390}, {"id": 1051, "name": "N. Osei", "initials": "NO", "admissionDate": "2024-05-12", "dischargeDate": "2025-01-16", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 23, "finalNIHSS": 1, "outcome": "Complex discharge", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 249}, {"id": 1052, "name": "M. Osei", "initials": "MO", "admissionDate": "2024-01-16", "dischargeDate": "2024-08-18", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 21, "finalNIHSS": 6, "outcome": "Excellent", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 215}, {"id": 1053, "name": "S. Bergstr√∂m", "initials": "SB", "admissionDate": "2023-11-20", "dischargeDate": "2024-06-10", "severity": "Severe", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 16, "finalNIHSS": 8, "outcome": "Good", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 203}, {"id": 1054, "name": "U. Andersen", "initials": "UA", "admissionDate": "2023-12-09", "dischargeDate": "2024-12-03", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 18, "finalNIHSS": 4, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 360}, {"id": 1055, "name": "G. Chandra", "initials": "GC", "admissionDate": "2023-10-23", "dischargeDate": "2024-10-08", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 28, "finalNIHSS": 5, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 351}, {"id": 1056, "name": "U. Kristiansen", "initials": "UK", "admissionDate": "2024-08-29", "dischargeDate": "2025-05-12", "severity": "Mild", "type": "Lacunar", "waveCompleted": 2, "finalMRS": 4, "finalMoCA": 15, "finalNIHSS": 5, "outcome": "Moderate", "dischargeReason": "Transferred to long-term care facility", "stayDays": 256}, {"id": 1057, "name": "Q. Tanaka", "initials": "QT", "admissionDate": "2025-11-14", "dischargeDate": "2026-01-12", "severity": "Mild", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 16, "finalNIHSS": 8, "outcome": "Moderate", "dischargeReason": "Transferred to long-term care facility", "stayDays": 59}, {"id": 1058, "name": "M. Hoffmann", "initials": "MH", "admissionDate": "2025-01-27", "dischargeDate": "2026-01-01", "severity": "Mild", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 0, "finalMoCA": 28, "finalNIHSS": 1, "outcome": "Partial", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 339}, {"id": 1059, "name": "Z. Svensson", "initials": "ZS", "admissionDate": "2025-11-12", "dischargeDate": "2026-02-15", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 30, "finalNIHSS": 2, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 95}, {"id": 1060, "name": "L. Moreira", "initials": "LM", "admissionDate": "2023-10-21", "dischargeDate": "2024-05-11", "severity": "Severe", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 2, "finalMoCA": 16, "finalNIHSS": 5, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 203}, {"id": 1061, "name": "D. Gustafsson", "initials": "DG", "admissionDate": "2023-12-12", "dischargeDate": "2024-12-12", "severity": "Mild", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 16, "finalNIHSS": 2, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 366}, {"id": 1062, "name": "L. Alves", "initials": "LA", "admissionDate": "2025-02-08", "dischargeDate": "2025-12-21", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 1, "finalMoCA": 30, "finalNIHSS": 1, "outcome": "Partial", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 316}, {"id": 1063, "name": "U. L√≥pez", "initials": "UL", "admissionDate": "2025-12-04", "dischargeDate": "2026-01-20", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 29, "finalNIHSS": 3, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 47}, {"id": 1064, "name": "H. Johansson", "initials": "HJ", "admissionDate": "2023-10-07", "dischargeDate": "2023-12-27", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 18, "finalNIHSS": 6, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 81}, {"id": 1065, "name": "E. Santos", "initials": "ES", "admissionDate": "2025-11-08", "dischargeDate": "2026-01-24", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 23, "finalNIHSS": 7, "outcome": "Good", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 77}, {"id": 1066, "name": "H. Alves", "initials": "HA", "admissionDate": "2024-01-28", "dischargeDate": "2024-12-15", "severity": "Severe", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 26, "finalNIHSS": 8, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 322}, {"id": 1067, "name": "Q. Carvalho", "initials": "QC", "admissionDate": "2025-04-10", "dischargeDate": "2025-06-05", "severity": "Severe", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 17, "finalNIHSS": 8, "outcome": "Partial", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 56}, {"id": 1068, "name": "D. Takahashi", "initials": "DT", "admissionDate": "2024-09-18", "dischargeDate": "2025-07-07", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 21, "finalNIHSS": 7, "outcome": "Good", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 292}, {"id": 1069, "name": "L. Park", "initials": "LP", "admissionDate": "2024-07-26", "dischargeDate": "2025-03-04", "severity": "Mild", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 25, "finalNIHSS": 3, "outcome": "Good", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 221}, {"id": 1070, "name": "A. Kristiansen", "initials": "AK", "admissionDate": "2025-08-04", "dischargeDate": "2025-09-22", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 1, "finalMoCA": 29, "finalNIHSS": 7, "outcome": "Moderate", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 49}, {"id": 1071, "name": "T. Rivera", "initials": "TR", "admissionDate": "2025-05-16", "dischargeDate": "2025-08-30", "severity": "Mild", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 23, "finalNIHSS": 3, "outcome": "Complex discharge", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 106}, {"id": 1072, "name": "J. Sato", "initials": "JS", "admissionDate": "2024-03-08", "dischargeDate": "2025-02-19", "severity": "Severe", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 29, "finalNIHSS": 8, "outcome": "Partial", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 348}, {"id": 1073, "name": "A. Ekstr√∂m", "initials": "AE", "admissionDate": "2024-10-09", "dischargeDate": "2024-11-08", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 27, "finalNIHSS": 2, "outcome": "Complex discharge", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 30}, {"id": 1074, "name": "V. L√≥pez", "initials": "VL", "admissionDate": "2025-10-14", "dischargeDate": "2026-02-04", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 29, "finalNIHSS": 0, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 113}, {"id": 1075, "name": "U. Olawale", "initials": "UO", "admissionDate": "2024-12-22", "dischargeDate": "2025-02-24", "severity": "Mild", "type": "Right MCA", "waveCompleted": 2, "finalMRS": 0, "finalMoCA": 24, "finalNIHSS": 2, "outcome": "Moderate", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 64}, {"id": 1076, "name": "B. Abubakar", "initials": "BA", "admissionDate": "2024-01-10", "dischargeDate": "2024-10-11", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 28, "finalNIHSS": 0, "outcome": "Good", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 275}, {"id": 1077, "name": "J. Diallo", "initials": "JD", "admissionDate": "2025-02-02", "dischargeDate": "2025-08-09", "severity": "Severe", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 4, "finalMoCA": 29, "finalNIHSS": 4, "outcome": "Complex discharge", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 188}, {"id": 1078, "name": "B. Kabila", "initials": "BK", "admissionDate": "2023-10-15", "dischargeDate": "2023-12-08", "severity": "Mild", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 25, "finalNIHSS": 6, "outcome": "Moderate", "dischargeReason": "Transferred to long-term care facility", "stayDays": 54}, {"id": 1079, "name": "M. Sandberg", "initials": "MS", "admissionDate": "2025-06-14", "dischargeDate": "2026-02-14", "severity": "Severe", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 4, "finalMoCA": 22, "finalNIHSS": 1, "outcome": "Partial", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 245}, {"id": 1080, "name": "X. Nakamura", "initials": "XN", "admissionDate": "2024-06-12", "dischargeDate": "2024-12-09", "severity": "Severe", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 0, "finalMoCA": 24, "finalNIHSS": 4, "outcome": "Moderate", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 180}, {"id": 1081, "name": "J. Moreau", "initials": "JM", "admissionDate": "2024-12-28", "dischargeDate": "2025-09-12", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 27, "finalNIHSS": 4, "outcome": "Excellent", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 258}, {"id": 1082, "name": "U. Bj√∂rk", "initials": "UB", "admissionDate": "2024-12-15", "dischargeDate": "2025-10-03", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 1, "finalMoCA": 28, "finalNIHSS": 0, "outcome": "Good", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 292}, {"id": 1083, "name": "E. Okafor", "initials": "EO", "admissionDate": "2024-11-25", "dischargeDate": "2025-10-11", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 25, "finalNIHSS": 5, "outcome": "Excellent", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 320}, {"id": 1084, "name": "O. Fonseca", "initials": "OF", "admissionDate": "2024-11-10", "dischargeDate": "2025-05-19", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 14, "finalNIHSS": 2, "outcome": "Moderate", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 190}, {"id": 1085, "name": "M. Gustafsson", "initials": "MG", "admissionDate": "2024-01-02", "dischargeDate": "2024-09-16", "severity": "Mild", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 20, "finalNIHSS": 1, "outcome": "Good", "dischargeReason": "Transferred to long-term care facility", "stayDays": 258}, {"id": 1086, "name": "E. Tanaka", "initials": "ET", "admissionDate": "2025-09-24", "dischargeDate": "2026-01-21", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 23, "finalNIHSS": 4, "outcome": "Moderate", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 119}, {"id": 1087, "name": "F. Pereira", "initials": "FP", "admissionDate": "2025-08-20", "dischargeDate": "2025-12-30", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 3, "finalMoCA": 14, "finalNIHSS": 5, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 132}, {"id": 1088, "name": "R. Gonz√°lez", "initials": "RG", "admissionDate": "2024-04-05", "dischargeDate": "2024-06-18", "severity": "Mild", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 3, "finalMoCA": 29, "finalNIHSS": 8, "outcome": "Excellent", "dischargeReason": "Transferred to long-term care facility", "stayDays": 74}, {"id": 1089, "name": "N. L√∂fgren", "initials": "NL", "admissionDate": "2025-02-01", "dischargeDate": "2026-01-25", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 3, "finalMoCA": 30, "finalNIHSS": 5, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 358}, {"id": 1090, "name": "E. Diarra", "initials": "ED", "admissionDate": "2024-07-26", "dischargeDate": "2024-09-22", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 2, "finalMoCA": 19, "finalNIHSS": 2, "outcome": "Excellent", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 58}, {"id": 1091, "name": "K. Conteh", "initials": "KC", "admissionDate": "2025-10-03", "dischargeDate": "2026-01-13", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 23, "finalNIHSS": 8, "outcome": "Complex discharge", "dischargeReason": "Transferred to long-term care facility", "stayDays": 102}, {"id": 1092, "name": "C. Wiberg", "initials": "CW", "admissionDate": "2024-02-17", "dischargeDate": "2025-01-31", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 15, "finalNIHSS": 0, "outcome": "Complex discharge", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 349}, {"id": 1093, "name": "C. Kim", "initials": "CK", "admissionDate": "2024-03-30", "dischargeDate": "2025-03-22", "severity": "Severe", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 23, "finalNIHSS": 4, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 357}, {"id": 1094, "name": "P. Vasquez", "initials": "PV", "admissionDate": "2025-10-09", "dischargeDate": "2026-01-04", "severity": "Mild", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 29, "finalNIHSS": 7, "outcome": "Good", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 87}, {"id": 1095, "name": "G. Svensson", "initials": "GS", "admissionDate": "2023-12-02", "dischargeDate": "2024-06-25", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 30, "finalNIHSS": 8, "outcome": "Partial", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 206}, {"id": 1096, "name": "D. Kristiansen", "initials": "DK", "admissionDate": "2025-03-24", "dischargeDate": "2025-12-09", "severity": "Mild", "type": "Lacunar", "waveCompleted": 2, "finalMRS": 0, "finalMoCA": 15, "finalNIHSS": 4, "outcome": "Good", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 260}, {"id": 1097, "name": "M. Abara", "initials": "MA", "admissionDate": "2023-09-11", "dischargeDate": "2024-03-26", "severity": "Severe", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 1, "finalMoCA": 19, "finalNIHSS": 7, "outcome": "Complex discharge", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 197}, {"id": 1098, "name": "Q. Hoffmann", "initials": "QH", "admissionDate": "2025-11-29", "dischargeDate": "2026-02-13", "severity": "Mild", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 1, "finalMoCA": 20, "finalNIHSS": 5, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 76}, {"id": 1099, "name": "B. Nguyen", "initials": "BN", "admissionDate": "2025-03-05", "dischargeDate": "2026-01-03", "severity": "Mild", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 18, "finalNIHSS": 4, "outcome": "Excellent", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 304}, {"id": 1100, "name": "X. Suzuki", "initials": "XS", "admissionDate": "2024-11-07", "dischargeDate": "2025-01-02", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 23, "finalNIHSS": 1, "outcome": "Complex discharge", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 56}, {"id": 1101, "name": "M. Wiberg", "initials": "MW", "admissionDate": "2024-03-24", "dischargeDate": "2025-04-06", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 17, "finalNIHSS": 6, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 378}, {"id": 1102, "name": "L. Bj√∂rk", "initials": "LB", "admissionDate": "2023-11-10", "dischargeDate": "2024-02-21", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 4, "finalMoCA": 15, "finalNIHSS": 0, "outcome": "Good", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 103}, {"id": 1103, "name": "B. Johansson", "initials": "BJ", "admissionDate": "2025-07-23", "dischargeDate": "2026-02-02", "severity": "Mild", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 24, "finalNIHSS": 2, "outcome": "Good", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 194}, {"id": 1104, "name": "X. Dubois", "initials": "XD", "admissionDate": "2023-12-28", "dischargeDate": "2024-11-10", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 25, "finalNIHSS": 5, "outcome": "Moderate", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 318}, {"id": 1105, "name": "V. Andersen", "initials": "VA", "admissionDate": "2024-04-20", "dischargeDate": "2025-01-17", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 0, "finalMoCA": 29, "finalNIHSS": 2, "outcome": "Moderate", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 272}, {"id": 1106, "name": "Q. Ekstr√∂m", "initials": "QE", "admissionDate": "2025-11-20", "dischargeDate": "2026-02-14", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 0, "finalMoCA": 28, "finalNIHSS": 5, "outcome": "Excellent", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 86}, {"id": 1107, "name": "N. Obi", "initials": "NO", "admissionDate": "2024-07-27", "dischargeDate": "2025-07-05", "severity": "Severe", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 1, "finalMoCA": 30, "finalNIHSS": 3, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 343}, {"id": 1108, "name": "R. Eze", "initials": "RE", "admissionDate": "2025-02-04", "dischargeDate": "2025-06-02", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 25, "finalNIHSS": 4, "outcome": "Partial", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 118}, {"id": 1109, "name": "T. Johanssen", "initials": "TJ", "admissionDate": "2024-05-30", "dischargeDate": "2024-11-28", "severity": "Severe", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 2, "finalMoCA": 20, "finalNIHSS": 7, "outcome": "Good", "dischargeReason": "Transferred to long-term care facility", "stayDays": 182}, {"id": 1110, "name": "K. Johanssen", "initials": "KJ", "admissionDate": "2025-03-03", "dischargeDate": "2025-06-03", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 25, "finalNIHSS": 2, "outcome": "Complex discharge", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 92}, {"id": 1111, "name": "J. Kim", "initials": "JK", "admissionDate": "2024-09-26", "dischargeDate": "2025-09-26", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 20, "finalNIHSS": 8, "outcome": "Moderate", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 365}, {"id": 1112, "name": "I. Gustafsson", "initials": "IG", "admissionDate": "2024-04-01", "dischargeDate": "2025-02-25", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 0, "finalMoCA": 30, "finalNIHSS": 3, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 330}, {"id": 1113, "name": "U. Lindqvist", "initials": "UL", "admissionDate": "2025-01-18", "dischargeDate": "2026-01-31", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 19, "finalNIHSS": 6, "outcome": "Excellent", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 378}, {"id": 1114, "name": "U. Andrade", "initials": "UA", "admissionDate": "2025-01-28", "dischargeDate": "2025-07-23", "severity": "Severe", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 4, "finalMoCA": 21, "finalNIHSS": 8, "outcome": "Excellent", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 176}, {"id": 1115, "name": "X. Blomqvist", "initials": "XB", "admissionDate": "2025-06-25", "dischargeDate": "2025-08-12", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 1, "finalMoCA": 23, "finalNIHSS": 0, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 48}, {"id": 1116, "name": "A. Dubois", "initials": "AD", "admissionDate": "2024-09-13", "dischargeDate": "2025-09-06", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 30, "finalNIHSS": 7, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 358}, {"id": 1117, "name": "I. Petrov", "initials": "IP", "admissionDate": "2023-12-05", "dischargeDate": "2024-08-25", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 0, "finalMoCA": 24, "finalNIHSS": 4, "outcome": "Moderate", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 264}, {"id": 1118, "name": "S. Lund", "initials": "SL", "admissionDate": "2024-10-11", "dischargeDate": "2025-07-31", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 17, "finalNIHSS": 2, "outcome": "Moderate", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 293}, {"id": 1119, "name": "E. Johanssen", "initials": "EJ", "admissionDate": "2025-03-30", "dischargeDate": "2025-11-11", "severity": "Severe", "type": "Right MCA", "waveCompleted": 2, "finalMRS": 2, "finalMoCA": 24, "finalNIHSS": 4, "outcome": "Good", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 226}, {"id": 1120, "name": "S. Blomqvist", "initials": "SB", "admissionDate": "2024-01-13", "dischargeDate": "2024-06-11", "severity": "Mild", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 3, "finalMoCA": 23, "finalNIHSS": 2, "outcome": "Excellent", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 150}, {"id": 1121, "name": "M. Bangura", "initials": "MB", "admissionDate": "2024-12-11", "dischargeDate": "2025-11-20", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 29, "finalNIHSS": 2, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 344}, {"id": 1122, "name": "O. Sandberg", "initials": "OS", "admissionDate": "2023-11-08", "dischargeDate": "2024-09-08", "severity": "Severe", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 16, "finalNIHSS": 8, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 305}, {"id": 1123, "name": "O. Nilsson", "initials": "ON", "admissionDate": "2025-10-20", "dischargeDate": "2026-02-02", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 2, "finalMRS": 1, "finalMoCA": 24, "finalNIHSS": 8, "outcome": "Good", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 105}, {"id": 1124, "name": "O. Andersen", "initials": "OA", "admissionDate": "2024-07-18", "dischargeDate": "2025-04-02", "severity": "Mild", "type": "Lacunar", "waveCompleted": 2, "finalMRS": 1, "finalMoCA": 30, "finalNIHSS": 6, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 258}, {"id": 1125, "name": "O. Asamoah", "initials": "OA", "admissionDate": "2024-02-03", "dischargeDate": "2024-08-08", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 2, "finalMoCA": 14, "finalNIHSS": 3, "outcome": "Excellent", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 187}, {"id": 1126, "name": "S. Tanaka", "initials": "ST", "admissionDate": "2024-01-05", "dischargeDate": "2024-03-07", "severity": "Severe", "type": "Left MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 29, "finalNIHSS": 0, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 62}, {"id": 1127, "name": "J. Asante", "initials": "JA", "admissionDate": "2024-12-04", "dischargeDate": "2025-07-17", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 16, "finalNIHSS": 8, "outcome": "Partial", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 225}, {"id": 1128, "name": "E. Holm", "initials": "EH", "admissionDate": "2024-06-20", "dischargeDate": "2025-02-06", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 1, "finalMoCA": 14, "finalNIHSS": 0, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 231}, {"id": 1129, "name": "J. Hoffmann", "initials": "JH", "admissionDate": "2025-05-01", "dischargeDate": "2025-10-04", "severity": "Moderate", "type": "Left MCA", "waveCompleted": 5, "finalMRS": 1, "finalMoCA": 22, "finalNIHSS": 3, "outcome": "Partial", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 156}, {"id": 1130, "name": "X. Fonseca", "initials": "XF", "admissionDate": "2024-04-02", "dischargeDate": "2024-05-10", "severity": "Mild", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 0, "finalMoCA": 17, "finalNIHSS": 0, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 38}, {"id": 1131, "name": "O. Soares", "initials": "OS", "admissionDate": "2024-11-06", "dischargeDate": "2025-07-18", "severity": "Severe", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 0, "finalMoCA": 18, "finalNIHSS": 8, "outcome": "Good", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 254}, {"id": 1132, "name": "J. Lindqvist", "initials": "JL", "admissionDate": "2025-02-16", "dischargeDate": "2025-05-30", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 3, "finalMoCA": 23, "finalNIHSS": 4, "outcome": "Complex discharge", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 103}, {"id": 1133, "name": "B. Gustafsson", "initials": "BG", "admissionDate": "2025-11-04", "dischargeDate": "2026-02-11", "severity": "Severe", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 27, "finalNIHSS": 2, "outcome": "Partial", "dischargeReason": "Completed full protocol ‚Äî excellent outcome", "stayDays": 99}, {"id": 1134, "name": "J. Ib√°√±ez", "initials": "JI", "admissionDate": "2025-04-20", "dischargeDate": "2025-09-12", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 3, "finalMoCA": 15, "finalNIHSS": 8, "outcome": "Moderate", "dischargeReason": "Completed Wave 3 ‚Äî home with PT/OT follow-up", "stayDays": 145}, {"id": 1135, "name": "N. Carvalho", "initials": "NC", "admissionDate": "2025-04-05", "dischargeDate": "2025-08-17", "severity": "Severe", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 3, "finalMoCA": 25, "finalNIHSS": 1, "outcome": "Moderate", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 134}, {"id": 1136, "name": "R. Blomqvist", "initials": "RB", "admissionDate": "2024-12-01", "dischargeDate": "2025-12-10", "severity": "Mild", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 20, "finalNIHSS": 8, "outcome": "Complex discharge", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 374}, {"id": 1137, "name": "G. Johanssen", "initials": "GJ", "admissionDate": "2025-12-07", "dischargeDate": "2026-01-13", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 4, "finalMRS": 1, "finalMoCA": 20, "finalNIHSS": 6, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 37}, {"id": 1138, "name": "H. Souza", "initials": "HS", "admissionDate": "2024-09-01", "dischargeDate": "2025-07-01", "severity": "Mild", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 2, "finalMoCA": 25, "finalNIHSS": 8, "outcome": "Moderate", "dischargeReason": "Transferred to long-term care facility", "stayDays": 303}, {"id": 1139, "name": "P. Hoffmann", "initials": "PH", "admissionDate": "2025-05-28", "dischargeDate": "2026-01-02", "severity": "Mild", "type": "Right MCA", "waveCompleted": 4, "finalMRS": 0, "finalMoCA": 21, "finalNIHSS": 2, "outcome": "Moderate", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 219}, {"id": 1140, "name": "A. Eriksson", "initials": "AE", "admissionDate": "2025-06-05", "dischargeDate": "2025-12-20", "severity": "Mild", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 21, "finalNIHSS": 7, "outcome": "Good", "dischargeReason": "Medically complex ‚Äî transferred to acute care", "stayDays": 198}, {"id": 1141, "name": "R. Holm", "initials": "RH", "admissionDate": "2023-12-13", "dischargeDate": "2024-12-05", "severity": "Mild", "type": "Right MCA", "waveCompleted": 5, "finalMRS": 1, "finalMoCA": 25, "finalNIHSS": 2, "outcome": "Partial", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 358}, {"id": 1142, "name": "E. Blomqvist", "initials": "EB", "admissionDate": "2024-07-04", "dischargeDate": "2024-08-20", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 2, "finalMRS": 0, "finalMoCA": 27, "finalNIHSS": 2, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 47}, {"id": 1143, "name": "C. Conteh", "initials": "CC", "admissionDate": "2024-07-23", "dischargeDate": "2025-04-12", "severity": "Mild", "type": "Lacunar", "waveCompleted": 3, "finalMRS": 4, "finalMoCA": 29, "finalNIHSS": 7, "outcome": "Moderate", "dischargeReason": "Completed Wave 5 ‚Äî discharged to community", "stayDays": 263}, {"id": 1144, "name": "A. Rivera", "initials": "AR", "admissionDate": "2024-06-28", "dischargeDate": "2025-08-01", "severity": "Mild", "type": "Left MCA", "waveCompleted": 2, "finalMRS": 0, "finalMoCA": 30, "finalNIHSS": 6, "outcome": "Moderate", "dischargeReason": "Transferred to long-term care facility", "stayDays": 399}, {"id": 1145, "name": "Z. Chandra", "initials": "ZC", "admissionDate": "2025-04-20", "dischargeDate": "2025-08-26", "severity": "Moderate", "type": "Right MCA", "waveCompleted": 3, "finalMRS": 2, "finalMoCA": 22, "finalNIHSS": 6, "outcome": "Complex discharge", "dischargeReason": "Transferred to long-term care facility", "stayDays": 128}, {"id": 1146, "name": "C. Moreira", "initials": "CM", "admissionDate": "2024-01-09", "dischargeDate": "2024-06-02", "severity": "Mild", "type": "Left MCA", "waveCompleted": 3, "finalMRS": 0, "finalMoCA": 16, "finalNIHSS": 6, "outcome": "Moderate", "dischargeReason": "Completed Wave 4 ‚Äî transferred to outpatient rehab", "stayDays": 145}, {"id": 1147, "name": "M. Ib√°√±ez", "initials": "MI", "admissionDate": "2024-01-03", "dischargeDate": "2024-04-29", "severity": "Mild", "type": "Lacunar", "waveCompleted": 2, "finalMRS": 3, "finalMoCA": 24, "finalNIHSS": 1, "outcome": "Excellent", "dischargeReason": "Completed Wave 5 ‚Äî independent living achieved", "stayDays": 117}, {"id": 1148, "name": "Q. Kim", "initials": "QK", "admissionDate": "2025-03-20", "dischargeDate": "2025-05-12", "severity": "Severe", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 15, "finalNIHSS": 2, "outcome": "Excellent", "dischargeReason": "Transferred to long-term care facility", "stayDays": 53}, {"id": 1149, "name": "K. Osei", "initials": "KO", "admissionDate": "2025-10-05", "dischargeDate": "2026-01-11", "severity": "Moderate", "type": "Lacunar", "waveCompleted": 5, "finalMRS": 4, "finalMoCA": 26, "finalNIHSS": 8, "outcome": "Complex discharge", "dischargeReason": "Early discharge ‚Äî patient request, goals partially met", "stayDays": 98}];
const CALENDAR_EVENTS_DATA = [{"id": 2, "date": "2026-02-20", "time": "09:00", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 12, "patientName": "Y. Costa", "room": "Imaging Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 5, "date": "2026-02-20", "time": "09:30", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 12, "patientName": "Y. Costa", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 4, "date": "2026-02-20", "time": "12:45", "type": "cognitive_test", "label": "Cognitive Assessment", "color": "#8e44ad", "icon": "üß†", "patientId": 4, "patientName": "S. Park", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 1, "date": "2026-02-20", "time": "13:15", "type": "discharge_planning", "label": "Discharge Planning", "color": "#2c3e50", "icon": "üè†", "patientId": 3, "patientName": "D. Osei", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 7, "date": "2026-02-20", "time": "13:15", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 15, "patientName": "W. Alves", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 8, "date": "2026-02-20", "time": "14:15", "type": "discharge_planning", "label": "Discharge Planning", "color": "#2c3e50", "icon": "üè†", "patientId": 8, "patientName": "C. Lindqvist", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 6, "date": "2026-02-20", "time": "14:30", "type": "blood_work", "label": "Blood Work", "color": "#e67e22", "icon": "ü©∏", "patientId": 1, "patientName": "J. Rivera", "room": "Lab 1", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 3, "date": "2026-02-20", "time": "16:45", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Outpatient Clinic", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 12, "date": "2026-02-21", "time": "09:30", "type": "discharge_planning", "label": "Discharge Planning", "color": "#2c3e50", "icon": "üè†", "patientId": 1, "patientName": "J. Rivera", "room": "Imaging Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 13, "date": "2026-02-21", "time": "09:45", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 15, "patientName": "W. Alves", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 9, "date": "2026-02-21", "time": "10:15", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 13, "patientName": "T. Diallo", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Family present"}, {"id": 14, "date": "2026-02-21", "time": "14:30", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 11, "date": "2026-02-21", "time": "14:45", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 15, "patientName": "W. Alves", "room": "Imaging Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 10, "date": "2026-02-21", "time": "15:15", "type": "pt_session", "label": "PT Session", "color": "#2980b9", "icon": "üèÉ", "patientId": 2, "patientName": "M. Chen", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Family present"}, {"id": 20, "date": "2026-02-22", "time": "07:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 4, "patientName": "S. Park", "room": "Imaging Suite", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 19, "date": "2026-02-22", "time": "08:30", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 11, "patientName": "P. Kowalski", "room": "Gym B", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Follow-up from previous session"}, {"id": 22, "date": "2026-02-22", "time": "09:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 12, "patientName": "Y. Costa", "room": "Imaging Suite", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 23, "date": "2026-02-22", "time": "10:30", "type": "cognitive_test", "label": "Cognitive Assessment", "color": "#8e44ad", "icon": "üß†", "patientId": 4, "patientName": "S. Park", "room": "Lab 1", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Progress reassessment required"}, {"id": 17, "date": "2026-02-22", "time": "11:15", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Room 204", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "New goals to be set"}, {"id": 24, "date": "2026-02-22", "time": "12:15", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 11, "patientName": "P. Kowalski", "room": "Room 312", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 21, "date": "2026-02-22", "time": "12:45", "type": "blood_work", "label": "Blood Work", "color": "#e67e22", "icon": "ü©∏", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "OT Suite", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Progress reassessment required"}, {"id": 15, "date": "2026-02-22", "time": "14:00", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 12, "patientName": "Y. Costa", "room": "Outpatient Clinic", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Family present"}, {"id": 18, "date": "2026-02-22", "time": "15:30", "type": "family_meeting", "label": "Family Meeting", "color": "#16a085", "icon": "üë®‚Äçüë©‚Äçüëß", "patientId": 13, "patientName": "T. Diallo", "room": "Room 312", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Follow-up from previous session"}, {"id": 16, "date": "2026-02-22", "time": "16:45", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 2, "patientName": "M. Chen", "room": "Gym B", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Family present"}, {"id": 30, "date": "2026-02-23", "time": "07:30", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 5, "patientName": "A. Martins", "room": "Room 312", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Family present"}, {"id": 29, "date": "2026-02-23", "time": "10:45", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 15, "patientName": "W. Alves", "room": "Room 312", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 31, "date": "2026-02-23", "time": "11:45", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 13, "patientName": "T. Diallo", "room": "Room 312", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 25, "date": "2026-02-23", "time": "14:00", "type": "family_meeting", "label": "Family Meeting", "color": "#16a085", "icon": "üë®‚Äçüë©‚Äçüëß", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Lab 1", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": "Progress reassessment required"}, {"id": 27, "date": "2026-02-23", "time": "15:15", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Lab 1", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 26, "date": "2026-02-23", "time": "15:30", "type": "cognitive_test", "label": "Cognitive Assessment", "color": "#8e44ad", "icon": "üß†", "patientId": 14, "patientName": "H. Asamoah", "room": "OT Suite", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 28, "date": "2026-02-23", "time": "16:15", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Outpatient Clinic", "assignedDoctor": "Dr. M. Patel", "coveringDoctor": "Dr. M. Patel", "notes": null}, {"id": 33, "date": "2026-02-24", "time": "07:30", "type": "cognitive_test", "label": "Cognitive Assessment", "color": "#8e44ad", "icon": "üß†", "patientId": 12, "patientName": "Y. Costa", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 38, "date": "2026-02-24", "time": "10:00", "type": "blood_work", "label": "Blood Work", "color": "#e67e22", "icon": "ü©∏", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 34, "date": "2026-02-24", "time": "10:30", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 14, "patientName": "H. Asamoah", "room": "Imaging Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 36, "date": "2026-02-24", "time": "11:00", "type": "discharge_planning", "label": "Discharge Planning", "color": "#2c3e50", "icon": "üè†", "patientId": 1, "patientName": "J. Rivera", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 37, "date": "2026-02-24", "time": "11:30", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 11, "patientName": "P. Kowalski", "room": "Outpatient Clinic", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 32, "date": "2026-02-24", "time": "13:00", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 9, "patientName": "O. Ib√°√±ez", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 35, "date": "2026-02-24", "time": "15:30", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 12, "patientName": "Y. Costa", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 43, "date": "2026-02-25", "time": "08:30", "type": "family_meeting", "label": "Family Meeting", "color": "#16a085", "icon": "üë®‚Äçüë©‚Äçüëß", "patientId": 2, "patientName": "M. Chen", "room": "OT Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 42, "date": "2026-02-25", "time": "09:00", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 4, "patientName": "S. Park", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 39, "date": "2026-02-25", "time": "12:15", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 15, "patientName": "W. Alves", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 46, "date": "2026-02-25", "time": "13:00", "type": "pt_session", "label": "PT Session", "color": "#2980b9", "icon": "üèÉ", "patientId": 6, "patientName": "W. Holm", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 40, "date": "2026-02-25", "time": "13:15", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 5, "patientName": "A. Martins", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 45, "date": "2026-02-25", "time": "13:30", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 3, "patientName": "D. Osei", "room": "Outpatient Clinic", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 41, "date": "2026-02-25", "time": "14:45", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 14, "patientName": "H. Asamoah", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 44, "date": "2026-02-25", "time": "16:30", "type": "cognitive_test", "label": "Cognitive Assessment", "color": "#8e44ad", "icon": "üß†", "patientId": 1, "patientName": "J. Rivera", "room": "Outpatient Clinic", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 51, "date": "2026-02-26", "time": "09:15", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 2, "patientName": "M. Chen", "room": "Gym A", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": null}, {"id": 52, "date": "2026-02-26", "time": "09:30", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 4, "patientName": "S. Park", "room": "Outpatient Clinic", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": "Family present"}, {"id": 48, "date": "2026-02-26", "time": "10:00", "type": "family_meeting", "label": "Family Meeting", "color": "#16a085", "icon": "üë®‚Äçüë©‚Äçüëß", "patientId": 3, "patientName": "D. Osei", "room": "Lab 1", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": "Follow-up from previous session"}, {"id": 47, "date": "2026-02-26", "time": "11:15", "type": "family_meeting", "label": "Family Meeting", "color": "#16a085", "icon": "üë®‚Äçüë©‚Äçüëß", "patientId": 1, "patientName": "J. Rivera", "room": "Imaging Suite", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": "New goals to be set"}, {"id": 54, "date": "2026-02-26", "time": "11:15", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 2, "patientName": "M. Chen", "room": "Room 204", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": null}, {"id": 49, "date": "2026-02-26", "time": "12:00", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 15, "patientName": "W. Alves", "room": "Room 312", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": "Family present"}, {"id": 50, "date": "2026-02-26", "time": "12:00", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 11, "patientName": "P. Kowalski", "room": "Gym B", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": "Family present"}, {"id": 53, "date": "2026-02-26", "time": "12:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 13, "patientName": "T. Diallo", "room": "Imaging Suite", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": "New goals to be set"}, {"id": 55, "date": "2026-02-26", "time": "15:00", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Gym B", "assignedDoctor": "Dr. R. Torres", "coveringDoctor": "Dr. R. Torres", "notes": "New goals to be set"}, {"id": 58, "date": "2026-02-27", "time": "07:30", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 3, "patientName": "D. Osei", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 60, "date": "2026-02-27", "time": "08:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 3, "patientName": "D. Osei", "room": "Outpatient Clinic", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 57, "date": "2026-02-27", "time": "12:30", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 10, "patientName": "U. Fernandez", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 61, "date": "2026-02-27", "time": "12:30", "type": "pt_session", "label": "PT Session", "color": "#2980b9", "icon": "üèÉ", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Lab 1", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 63, "date": "2026-02-27", "time": "13:45", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 12, "patientName": "Y. Costa", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Family present"}, {"id": 56, "date": "2026-02-27", "time": "14:00", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 15, "patientName": "W. Alves", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 62, "date": "2026-02-27", "time": "15:15", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 11, "patientName": "P. Kowalski", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 59, "date": "2026-02-27", "time": "15:30", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 2, "patientName": "M. Chen", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 64, "date": "2026-02-27", "time": "15:45", "type": "pt_session", "label": "PT Session", "color": "#2980b9", "icon": "üèÉ", "patientId": 4, "patientName": "S. Park", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 68, "date": "2026-02-28", "time": "07:00", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 69, "date": "2026-02-28", "time": "09:15", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 66, "date": "2026-02-28", "time": "10:15", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 11, "patientName": "P. Kowalski", "room": "Lab 1", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 67, "date": "2026-02-28", "time": "11:15", "type": "discharge_planning", "label": "Discharge Planning", "color": "#2c3e50", "icon": "üè†", "patientId": 13, "patientName": "T. Diallo", "room": "Imaging Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Family present"}, {"id": 65, "date": "2026-02-28", "time": "16:00", "type": "blood_work", "label": "Blood Work", "color": "#e67e22", "icon": "ü©∏", "patientId": 1, "patientName": "J. Rivera", "room": "Outpatient Clinic", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 70, "date": "2026-02-28", "time": "16:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 9, "patientName": "O. Ib√°√±ez", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 73, "date": "2026-03-01", "time": "09:30", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 11, "patientName": "P. Kowalski", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 78, "date": "2026-03-01", "time": "09:30", "type": "cognitive_test", "label": "Cognitive Assessment", "color": "#8e44ad", "icon": "üß†", "patientId": 5, "patientName": "A. Martins", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 80, "date": "2026-03-01", "time": "09:30", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 5, "patientName": "A. Martins", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 74, "date": "2026-03-01", "time": "10:15", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 4, "patientName": "S. Park", "room": "Imaging Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 79, "date": "2026-03-01", "time": "10:30", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 3, "patientName": "D. Osei", "room": "OT Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 77, "date": "2026-03-01", "time": "13:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 4, "patientName": "S. Park", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 76, "date": "2026-03-01", "time": "14:15", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 13, "patientName": "T. Diallo", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 75, "date": "2026-03-01", "time": "15:00", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 5, "patientName": "A. Martins", "room": "OT Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 72, "date": "2026-03-01", "time": "16:15", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 3, "patientName": "D. Osei", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 71, "date": "2026-03-01", "time": "16:45", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 12, "patientName": "Y. Costa", "room": "Gym B", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 81, "date": "2026-03-02", "time": "07:30", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 3, "patientName": "D. Osei", "room": "Outpatient Clinic", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Progress reassessment required"}, {"id": 85, "date": "2026-03-02", "time": "07:45", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 11, "patientName": "P. Kowalski", "room": "Imaging Suite", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Progress reassessment required"}, {"id": 84, "date": "2026-03-02", "time": "10:15", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 10, "patientName": "U. Fernandez", "room": "Lab 1", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Progress reassessment required"}, {"id": 82, "date": "2026-03-02", "time": "13:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 6, "patientName": "W. Holm", "room": "Imaging Suite", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "New goals to be set"}, {"id": 83, "date": "2026-03-02", "time": "15:15", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 1, "patientName": "J. Rivera", "room": "Gym A", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Family present"}, {"id": 88, "date": "2026-03-03", "time": "08:00", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 5, "patientName": "A. Martins", "room": "OT Suite", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Progress reassessment required"}, {"id": 91, "date": "2026-03-03", "time": "08:45", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 12, "patientName": "Y. Costa", "room": "Gym A", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Follow-up from previous session"}, {"id": 89, "date": "2026-03-03", "time": "11:30", "type": "discharge_planning", "label": "Discharge Planning", "color": "#2c3e50", "icon": "üè†", "patientId": 10, "patientName": "U. Fernandez", "room": "Room 312", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "New goals to be set"}, {"id": 87, "date": "2026-03-03", "time": "12:30", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 5, "patientName": "A. Martins", "room": "Neuro Ward", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "New goals to be set"}, {"id": 86, "date": "2026-03-03", "time": "12:45", "type": "blood_work", "label": "Blood Work", "color": "#e67e22", "icon": "ü©∏", "patientId": 9, "patientName": "O. Ib√°√±ez", "room": "Imaging Suite", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Follow-up from previous session"}, {"id": 90, "date": "2026-03-03", "time": "14:45", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 1, "patientName": "J. Rivera", "room": "Outpatient Clinic", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Follow-up from previous session"}, {"id": 92, "date": "2026-03-03", "time": "14:45", "type": "blood_work", "label": "Blood Work", "color": "#e67e22", "icon": "ü©∏", "patientId": 13, "patientName": "T. Diallo", "room": "OT Suite", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "New goals to be set"}, {"id": 93, "date": "2026-03-03", "time": "16:00", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Room 312", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Progress reassessment required"}, {"id": 95, "date": "2026-03-03", "time": "16:00", "type": "physio_eval", "label": "Physiotherapy Eval", "color": "#2980b9", "icon": "üìã", "patientId": 1, "patientName": "J. Rivera", "room": "Gym A", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": "Progress reassessment required"}, {"id": 94, "date": "2026-03-03", "time": "16:30", "type": "family_meeting", "label": "Family Meeting", "color": "#16a085", "icon": "üë®‚Äçüë©‚Äçüëß", "patientId": 12, "patientName": "Y. Costa", "room": "Conference Room", "assignedDoctor": "Dr. S. Kim", "coveringDoctor": "Dr. S. Kim", "notes": null}, {"id": 97, "date": "2026-03-04", "time": "07:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 4, "patientName": "S. Park", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 98, "date": "2026-03-04", "time": "07:45", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 3, "patientName": "D. Osei", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 96, "date": "2026-03-04", "time": "09:45", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Outpatient Clinic", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 99, "date": "2026-03-04", "time": "09:45", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 5, "patientName": "A. Martins", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 101, "date": "2026-03-04", "time": "11:15", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 12, "patientName": "Y. Costa", "room": "Gym B", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 105, "date": "2026-03-04", "time": "11:15", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 6, "patientName": "W. Holm", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Family present"}, {"id": 103, "date": "2026-03-04", "time": "11:45", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 14, "patientName": "H. Asamoah", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 100, "date": "2026-03-04", "time": "13:00", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 5, "patientName": "A. Martins", "room": "Neuro Ward", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 104, "date": "2026-03-04", "time": "14:30", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 5, "patientName": "A. Martins", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 102, "date": "2026-03-04", "time": "16:00", "type": "mri", "label": "MRI Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 8, "patientName": "C. Lindqvist", "room": "Imaging Suite", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Family present"}, {"id": 106, "date": "2026-03-05", "time": "10:30", "type": "discharge_planning", "label": "Discharge Planning", "color": "#2c3e50", "icon": "üè†", "patientId": 9, "patientName": "O. Ib√°√±ez", "room": "Gym B", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "New goals to be set"}, {"id": 110, "date": "2026-03-05", "time": "10:30", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 2, "patientName": "M. Chen", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 111, "date": "2026-03-05", "time": "11:15", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 11, "patientName": "P. Kowalski", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 108, "date": "2026-03-05", "time": "13:00", "type": "pt_session", "label": "PT Session", "color": "#2980b9", "icon": "üèÉ", "patientId": 7, "patientName": "L. Lindstr√∂m", "room": "Gym B", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 113, "date": "2026-03-05", "time": "13:30", "type": "wave_transition", "label": "Wave Transition Review", "color": "#8e44ad", "icon": "üåä", "patientId": 1, "patientName": "J. Rivera", "room": "Conference Room", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}, {"id": 109, "date": "2026-03-05", "time": "14:00", "type": "ot_session", "label": "OT Session", "color": "#27ae60", "icon": "üñê", "patientId": 1, "patientName": "J. Rivera", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Progress reassessment required"}, {"id": 114, "date": "2026-03-05", "time": "14:30", "type": "md_review", "label": "MD Review", "color": "#7d3c98", "icon": "üë®‚Äç‚öïÔ∏è", "patientId": 6, "patientName": "W. Holm", "room": "Room 204", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Routine session"}, {"id": 107, "date": "2026-03-05", "time": "15:45", "type": "slp_session", "label": "SLP Session", "color": "#d35400", "icon": "üí¨", "patientId": 10, "patientName": "U. Fernandez", "room": "Gym A", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": null}, {"id": 112, "date": "2026-03-05", "time": "16:00", "type": "ct_scan", "label": "CT Scan", "color": "#c0392b", "icon": "üî¨", "patientId": 1, "patientName": "J. Rivera", "room": "Room 312", "assignedDoctor": "Dr. A. Chen", "coveringDoctor": null, "notes": "Follow-up from previous session"}];
const BREAK_SCHEDULE_DATA = [{"date": "2026-02-22", "reason": "Conference leave", "coveringDoctor": "Dr. M. Patel"}, {"date": "2026-02-23", "reason": "Conference leave", "coveringDoctor": "Dr. M. Patel"}, {"date": "2026-02-26", "reason": "Personal day", "coveringDoctor": "Dr. R. Torres"}, {"date": "2026-03-02", "reason": "CME training", "coveringDoctor": "Dr. S. Kim"}, {"date": "2026-03-03", "reason": "CME training", "coveringDoctor": "Dr. S. Kim"}];

// Data vars appended

// ‚îÄ‚îÄ‚îÄ ABBREVIATION DICTIONARY ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const ABBR_MAP = {
  "NIHSS":  "National Institutes of Health Stroke Scale ‚Äî measures stroke severity (0‚Äì42)",
  "MoCA":   "Montreal Cognitive Assessment ‚Äî screens for cognitive impairment (0‚Äì30)",
  "mRS":    "Modified Rankin Scale ‚Äî measures disability after stroke (0‚Äì6)",
  "FM-UE":  "Fugl-Meyer Scale ‚Äî Upper Extremity motor function (0‚Äì66)",
  "FIM":    "Functional Independence Measure ‚Äî assesses disability (18‚Äì126)",
  "MAS":    "Modified Ashworth Scale ‚Äî measures muscle spasticity (0‚Äì4)",
  "WAB":    "Western Aphasia Battery ‚Äî assesses language disorders",
  "BDAE":   "Boston Diagnostic Aphasia Examination ‚Äî evaluates aphasia type/severity",
  "PHQ-9":  "Patient Health Questionnaire-9 ‚Äî screens for depression (0‚Äì27)",
  "GAD-7":  "Generalized Anxiety Disorder-7 ‚Äî screens for anxiety (0‚Äì21)",
  "PSQI":   "Pittsburgh Sleep Quality Index ‚Äî measures sleep quality",
  "ZBI":    "Zarit Burden Interview ‚Äî assesses caregiver burden",
  "GAS":    "Goal Attainment Scaling ‚Äî measures individualised rehab progress",
  "PROMIS": "Patient-Reported Outcomes Measurement Information System",
  "SF-36":  "Short Form-36 Health Survey ‚Äî measures quality of life",
  "Berg":   "Berg Balance Scale ‚Äî assesses fall risk and balance (0‚Äì56)",
  "MMT":    "Manual Muscle Testing ‚Äî grades muscle strength (0‚Äì5)",
  "TUG":    "Timed Up and Go Test ‚Äî assesses mobility and fall risk",
  "MCA":    "Middle Cerebral Artery ‚Äî most commonly affected artery in stroke",
  "Left MCA":  "Left Middle Cerebral Artery stroke ‚Äî often causes right-sided weakness and aphasia",
  "Right MCA": "Right Middle Cerebral Artery stroke ‚Äî often causes left-sided weakness and neglect",
  "Lacunar":   "Lacunar stroke ‚Äî small vessel infarct in deep brain structures",
  "AF":     "Atrial Fibrillation ‚Äî irregular heart rhythm; major cause of cardioembolic stroke",
  "DVT":    "Deep Vein Thrombosis ‚Äî blood clot in deep vein; prophylaxis critical post-stroke",
  "LDL":    "Low-Density Lipoprotein ‚Äî 'bad' cholesterol; target <70 mg/dL post-stroke",
  "PT":     "Physical Therapist ‚Äî focuses on mobility, strength, balance and gait",
  "OT":     "Occupational Therapist ‚Äî focuses on daily living activities and cognition",
  "SLP":    "Speech-Language Pathologist ‚Äî addresses communication, swallowing and cognition",
  "MD":     "Medical Doctor / Physician",
  "SW":     "Social Worker ‚Äî provides psychosocial support and discharge planning",
  "Nsg":    "Nursing ‚Äî bedside care, medication management and safety monitoring",
  "Neuro":  "Neurologist / Neurology team",
  "ADL":    "Activities of Daily Living ‚Äî e.g. dressing, bathing, meal preparation",
  "ROM":    "Range of Motion ‚Äî degree of movement at a joint",
  "BP":     "Blood Pressure ‚Äî target <130/80 mmHg post-stroke",
  "O‚ÇÇ":    "Oxygen Saturation ‚Äî target ‚â•94% post-stroke",
  "O2":     "Oxygen Saturation ‚Äî target ‚â•94% post-stroke",
  "ICU":    "Intensive Care Unit ‚Äî acute monitoring setting for severe stroke",
  "PRN":    "Pro Re Nata (Latin) ‚Äî as needed",
  "AFO":    "Ankle-Foot Orthosis ‚Äî brace that supports foot drop after stroke",
  "EHR":    "Electronic Health Record ‚Äî digital patient documentation system",
  "q4h":   "Every 4 hours (Latin: quaque 4 hora)",
  "q2h":   "Every 2 hours",
};
const ABBR_KEYS = Object.keys(ABBR_MAP).sort((a,b)=>b.length-a.length);
const ABBR_REGEX = new RegExp('('+ABBR_KEYS.map(k=>k.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')).join('|')+')', 'g');

// ‚îÄ‚îÄ‚îÄ TOOLTIP CONTEXT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const TooltipCtx = createContext(null);
function TooltipProvider({children}){
  const show = useCallback((term, text, x, y)=>{
    const el = document.getElementById('global-tooltip');
    if(!el) return;
    el.innerHTML = `<strong>${term}</strong>${text}`;
    el.style.left = x+'px';
    el.style.top = (y-10)+'px';
    el.style.transform = 'translate(-50%,-100%)';
    el.classList.add('show');
  },[]);
  const hide = useCallback(()=>{
    const el = document.getElementById('global-tooltip');
    if(el) el.classList.remove('show');
  },[]);
  return <TooltipCtx.Provider value={{show,hide}}>{children}</TooltipCtx.Provider>;
}
function AbbrSpan({term, children, style}){
  const ctx = useContext(TooltipCtx);
  return (
    <span className="abbr-term" style={style}
      onMouseEnter={e=>{const r=e.currentTarget.getBoundingClientRect();ctx.show(term,ABBR_MAP[term],r.left+r.width/2,r.top);}}
      onMouseLeave={ctx.hide}>
      {children||term}
    </span>
  );
}
function T({children, style}){
  if(typeof children !== 'string') return <span style={style}>{children}</span>;
  const parts = children.split(ABBR_REGEX);
  if(parts.length===1) return <span style={style}>{children}</span>;
  return <span style={style}>{parts.map((p,i)=>ABBR_MAP[p]?<AbbrSpan key={i} term={p}>{p}</AbbrSpan>:p)}</span>;
}

// ‚îÄ‚îÄ‚îÄ DATE HELPERS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function parseDate(s){ return new Date(s+'T00:00:00'); }
function addDays(d,n){ const r=new Date(d); r.setDate(r.getDate()+n); return r; }
function fmtDate(d){ return d.toLocaleDateString('en-US',{month:'short',day:'numeric'}); }
function fmtDateFull(d){ return d.toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'}); }
function fmtDayOfWeek(d){ return d.toLocaleDateString('en-US',{weekday:'short'}); }
function daysBetween(a,b){ return Math.floor((b-a)/86400000); }
function dateKey(d){ return d.toISOString().slice(0,10); }

function getWaveDates(admissionDate, waveDurations){
  const dates={};
  let cursor = parseDate(admissionDate);
  [1,2,3,4,5].forEach(id=>{
    const start = new Date(cursor);
    const dur = waveDurations[id] || waveDurations[String(id)] || 7;
    const end   = addDays(cursor, dur-1);
    dates[id] = {start, end};
    cursor = addDays(end, 1);
  });
  return dates;
}

// ‚îÄ‚îÄ‚îÄ WAVE LIMITS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const WAVE_LIMITS = {1:{min:3,max:14},2:{min:7,max:42},3:{min:14,max:120},4:{min:30,max:180},5:{min:60,max:365}};
const WAVE_DEFAULTS = {1:7,2:21,3:56,4:84,5:180};

// ‚îÄ‚îÄ‚îÄ STATIC DATA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const WAVES = [
  {id:1,name:"Wave 1",label:"Acute Stabilisation",  tf:"Day 1‚Äì7",   color:"#c0392b",light:"#fdf2f2",
   milestones:[
    {id:"w1m1",text:"NIHSS baseline documented",done:true,discipline:"Neuro"},
    {id:"w1m2",text:"Dysphagia screen completed",done:true,discipline:"SLP",critical:true},
    {id:"w1m3",text:"DVT prophylaxis initiated",done:true,discipline:"Nursing"},
    {id:"w1m4",text:"BP within target range x24h",done:true,discipline:"MD"},
    {id:"w1m5",text:"Sitting tolerance >15 min",done:true,discipline:"PT"},
    {id:"w1m6",text:"Imaging reviewed, lesion mapped",done:true,discipline:"Neuro"},
  ]},
  {id:2,name:"Wave 2",label:"Sub-Acute Recovery",  tf:"Week 2‚Äì4",  color:"#d35400",light:"#fdf6f0",
   milestones:[
    {id:"w2m1",text:"Fugl-Meyer UE > 24 pts",done:true, discipline:"PT",critical:true},
    {id:"w2m2",text:"Transfers: supervised independence",done:true,discipline:"PT"},
    {id:"w2m3",text:"MoCA ‚â• 18 / baseline tracked",done:true,discipline:"OT",critical:true},
    {id:"w2m4",text:"Aphasia screen completed (WAB)",done:false,discipline:"SLP",critical:true,flagged:true},
    {id:"w2m5",text:"Safe oral intake established",done:true,discipline:"SLP"},
    {id:"w2m6",text:"Standing tolerance >5 min",done:false,discipline:"PT"},
    {id:"w2m7",text:"Neglect screen completed",done:false,discipline:"OT"},
    {id:"w2m8",text:"Family education initiated",done:true,discipline:"SW"},
  ]},
  {id:3,name:"Wave 3",label:"Active Rehabilitation",tf:"Month 1‚Äì3",color:"#27ae60",light:"#f2faf5",
   milestones:[
    {id:"w3m1",text:"Barthel Index ‚â• 75",done:false,discipline:"OT"},
    {id:"w3m2",text:"Ambulates 50m with device",done:false,discipline:"PT"},
    {id:"w3m3",text:"Berg Balance ‚â• 40",done:false,discipline:"PT",critical:true},
    {id:"w3m4",text:"Functional communication achieved",done:false,discipline:"SLP"},
    {id:"w3m5",text:"Meal prep with supervision",done:false,discipline:"OT"},
    {id:"w3m6",text:"PHQ-9 Depression screen < 10",done:false,discipline:"MD"},
  ]},
  {id:4,name:"Wave 4",label:"Community Re-entry",  tf:"Month 3‚Äì6",color:"#2980b9",light:"#f0f7fd",milestones:[]},
  {id:5,name:"Wave 5",label:"Long-term Follow-up", tf:"6 Months+", color:"#8e44ad",light:"#f9f3fd",milestones:[]},
];
const DISCIPLINES = {
  PT:     {label:"PT",   color:"#2980b9",bg:"#eaf4fb"},
  OT:     {label:"OT",   color:"#27ae60",bg:"#e8f8ef"},
  SLP:    {label:"SLP",  color:"#d35400",bg:"#fdf6f0"},
  MD:     {label:"MD",   color:"#7d3c98",bg:"#f5eef8"},
  Nursing:{label:"Nsg",  color:"#b7950b",bg:"#fef9e7"},
  Neuro:  {label:"Neuro",color:"#c0392b",bg:"#fdf2f2"},
  SW:     {label:"SW",   color:"#5d6d7e",bg:"#f4f7fa"},
};

// Normalize waveDurations keys
const INIT_PATIENTS = ACTIVE_PATIENTS_DATA.map(p=>({
  ...p,
  waveDurations: Object.fromEntries(Object.entries(p.waveDurations||WAVE_DEFAULTS).map(([k,v])=>[parseInt(k),v]))
}));


// ‚îÄ‚îÄ‚îÄ SMALL COMPONENTS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function DisciplineTag({disc}){
  const d=DISCIPLINES[disc]||{label:disc,color:"#5d7a96",bg:"#f4f7fa"};
  return (
    <AbbrSpan term={disc}>
      <span className="discipline-tag" style={{background:d.bg,color:d.color}}>{d.label}</span>
    </AbbrSpan>
  );
}
function ProgressRing({pct,color,size=44}){
  const r=16,circ=2*Math.PI*r,dash=circ*(pct/100);
  return (
    <svg width={size} height={size} viewBox="0 0 40 40">
      <circle cx="20" cy="20" r={r} fill="none" stroke="rgba(200,160,140,0.25)" strokeWidth="3"/>
      <circle cx="20" cy="20" r={r} fill="none" stroke={color} strokeWidth="3"
        strokeDasharray={`${dash} ${circ}`} strokeLinecap="round"
        transform="rotate(-90 20 20)" style={{transition:"stroke-dasharray 0.6s ease"}}/>
      <text x="20" y="24" textAnchor="middle" fontSize="9" fontWeight="700" fill={color} fontFamily="Nunito">{pct}%</text>
    </svg>
  );
}
function StatusDot({status}){
  const c={green:"#27ae60",yellow:"#f39c12",red:"#c0392b"};
  return <span style={{width:"8px",height:"8px",borderRadius:"50%",background:c[status]||"#c8d4e0",display:"inline-block",flexShrink:0}}/>;
}
function WaveTag({wave,color}){
  return <span style={{fontSize:"10px",fontWeight:700,color,background:`${color}18`,border:`1px solid ${color}33`,borderRadius:"10px",padding:"2px 8px"}}>{wave.name}</span>;
}

// ‚îÄ‚îÄ‚îÄ TIMELINE TAB ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function TimelineTab({patient, onUpdateDurations}){
  const [durations, setDurations] = useState({...patient.waveDurations});
  const waveDates = getWaveDates(patient.admissionDate, durations);
  const today = new Date();
  const admDate = parseDate(patient.admissionDate);
  const totalDays = Object.values(durations).reduce((a,b)=>a+b,0);
  const daysSinceAdm = daysBetween(admDate, today);
  const todayPct = Math.min(Math.max(daysSinceAdm/totalDays*100,0),100);

  const updateDuration = (waveId, val) => {
    const newD = {...durations, [waveId]: val};
    setDurations(newD);
    onUpdateDurations(newD);
  };
  return (
    <div style={{display:"flex",flexDirection:"column",gap:"20px"}}>
      <div className="card" style={{padding:"14px 16px"}}>
        <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}}>
          <div>
            <div style={{fontSize:"11px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"3px"}}>Admission Calendar</div>
            <div style={{fontSize:"13px",fontWeight:800,color:"#2d1a0e"}}>Admitted: {fmtDateFull(admDate)}</div>
          </div>
          <div style={{textAlign:"right"}}>
            <div style={{fontSize:"11px",color:"#907060"}}>Today: {fmtDateFull(today)}</div>
            <div style={{fontSize:"11px",fontWeight:600,color:WAVES.find(w=>w.id===patient.wave)?.color}}>
              Day {Math.max(daysSinceAdm+1,1)} of treatment
            </div>
          </div>
        </div>
        <div style={{position:"relative",marginBottom:"8px",marginTop:"20px"}}>
          {todayPct>0&&todayPct<100&&(
            <div className="today-line" style={{left:`${todayPct}%`}}/>
          )}
          <div style={{display:"flex",borderRadius:"10px",overflow:"hidden",height:"30px"}}>
            {WAVES.map(w=>(
              <div key={w.id} className="timeline-wave-bar"
                style={{flex:durations[w.id],background:w.id<patient.wave?`${w.color}55`:w.id===patient.wave?w.color:`${w.color}25`,borderRight:"1px solid rgba(255,255,255,0.3)"}}>
                <span style={{fontSize:"9px",fontWeight:700,color:w.id<=patient.wave?"#fff":"#888"}}>W{w.id}</span>
              </div>
            ))}
          </div>
          <div style={{display:"flex",marginTop:"4px",height:"14px"}}>
            {WAVES.map(w=>(
              <div key={w.id} style={{flex:durations[w.id],textAlign:"left",paddingLeft:"4px"}}>
                <span style={{fontSize:"9px",color:"#a8887a"}}>{fmtDate(waveDates[w.id].start)}</span>
              </div>
            ))}
          </div>
        </div>
        <div style={{marginTop:"12px",borderTop:"1px solid rgba(200,160,140,0.2)",paddingTop:"10px"}}>
          <div style={{display:"grid",gridTemplateColumns:"repeat(5,1fr)",gap:"6px"}}>
            {WAVES.map(w=>{
              const d=waveDates[w.id];
              const isCurrent=w.id===patient.wave;
              const isPast=w.id<patient.wave;
              return (
                <div key={w.id} style={{background:isCurrent?`${w.color}12`:isPast?"rgba(255,255,255,0.4)":"rgba(255,255,255,0.2)",borderRadius:"10px",padding:"7px 8px",border:isCurrent?`1px solid ${w.color}33`:"1px solid rgba(200,160,140,0.2)"}}>
                  <div style={{fontSize:"9px",fontWeight:700,color:w.color,marginBottom:"2px"}}>{w.name}</div>
                  <div style={{fontSize:"10px",fontWeight:600,color:"#2d1a0e"}}>{durations[w.id]}d</div>
                  <div style={{fontSize:"9px",color:"#a8887a",marginTop:"2px",lineHeight:1.4}}>{fmtDate(d.start)}<br/>‚Üí {fmtDate(d.end)}</div>
                  {isPast&&<div style={{fontSize:"9px",color:"#27ae60",marginTop:"2px",fontWeight:600}}>‚úì Complete</div>}
                  {isCurrent&&<div style={{fontSize:"9px",color:w.color,marginTop:"2px",fontWeight:600}}>‚óè Active</div>}
                </div>
              );
            })}
          </div>
        </div>
      </div>
      <div className="card" style={{padding:"16px"}}>
        <div style={{fontSize:"11px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"4px"}}>Adjust Wave Duration</div>
        <div style={{fontSize:"11px",color:"#907060",marginBottom:"14px"}}>Changes cascade automatically to all subsequent wave start dates.</div>
        {WAVES.map(w=>{
          const lim=WAVE_LIMITS[w.id];
          const val=durations[w.id];
          const pct=((val-lim.min)/(lim.max-lim.min))*100;
          const isCurrent=w.id===patient.wave;
          return (
            <div key={w.id} style={{marginBottom:"16px"}}>
              <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"6px"}}>
                <div style={{display:"flex",alignItems:"center",gap:"7px"}}>
                  <span style={{width:"10px",height:"10px",borderRadius:"50%",background:w.color,display:"inline-block",flexShrink:0}}/>
                  <span style={{fontSize:"12px",fontWeight:isCurrent?700:500,color:isCurrent?"#2d1a0e":"#6a5040"}}>{w.name}: {w.label}</span>
                  {isCurrent&&<span className="badge" style={{background:`${w.color}18`,color:w.color}}>Active</span>}
                </div>
                <div style={{display:"flex",alignItems:"center",gap:"8px"}}>
                  <span style={{fontSize:"12px",fontWeight:800,color:w.color,minWidth:"52px",textAlign:"right"}}>{val} days</span>
                  <span style={{fontSize:"10px",color:"#a8887a",minWidth:"100px",textAlign:"left"}}>{fmtDate(waveDates[w.id].start)} ‚Üí {fmtDate(waveDates[w.id].end)}</span>
                </div>
              </div>
              <input type="range" min={lim.min} max={lim.max} value={val}
                style={{"--thumb-color":w.color,"--track-bg":`linear-gradient(to right, ${w.color} ${pct}%, #e8d8d0 ${pct}%)`}}
                onChange={e=>updateDuration(w.id,parseInt(e.target.value))}/>
              <div style={{display:"flex",justifyContent:"space-between",marginTop:"2px"}}>
                <span style={{fontSize:"9px",color:"#c4a898"}}>{lim.min}d min</span>
                <span style={{fontSize:"9px",color:"#c4a898"}}>{lim.max}d max</span>
              </div>
            </div>
          );
        })}
        <div style={{padding:"10px 12px",background:"rgba(255,255,255,0.5)",borderRadius:"12px",border:"1px solid rgba(200,160,140,0.25)",marginTop:"4px"}}>
          <div style={{fontSize:"10px",color:"#907060"}}>
            <strong style={{color:"#2d1a0e"}}>Total treatment plan:</strong> {Object.values(durations).reduce((a,b)=>a+b,0)} days &nbsp;¬∑&nbsp;
            Est. completion: <strong style={{color:"#8e44ad"}}>{fmtDateFull(waveDates[5].end)}</strong>
          </div>
        </div>
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ COHORT INSIGHT ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function CohortInsight({patient}){
  const wave=WAVES.find(w=>w.id===patient.wave);
  const pctThrough=Math.round((patient.waveDay/patient.cohort.avg)*100);
  const ahead=patient.pct>patient.cohort.pct;
  return (
    <div style={{padding:"14px 16px",borderRadius:"14px",background:"rgba(255,255,255,0.5)",border:"1px solid rgba(200,160,140,0.25)"}}>
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"}}>
        <div>
          <div style={{fontSize:"10px",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",color:"#a8887a",marginBottom:"3px"}}>Cohort Comparison</div>
          <div style={{fontSize:"11px",color:"#6a5040",fontStyle:"italic"}}>{patient.cohort.label}</div>
        </div>
        <span className={ahead?"badge badge-green":"badge badge-yellow"}>{ahead?"Tracking well":"Slightly behind"}</span>
      </div>
      <div style={{marginBottom:"10px"}}>
        <div style={{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#907060",marginBottom:"4px"}}>
          <span>Milestone completion</span><span>Patient {patient.pct}% ¬∑ Cohort avg {patient.cohort.pct}%</span>
        </div>
        <div className="cohort-bar">
          <div className="cohort-patient" style={{width:`${patient.pct}%`}}/>
          <div className="cohort-avg" style={{left:`${patient.cohort.pct}%`}}/>
        </div>
        <div style={{display:"flex",justifyContent:"flex-end",marginTop:"3px"}}>
          <span style={{fontSize:"9px",color:"#a8887a"}}>‚ñè = cohort avg</span>
        </div>
      </div>
      <div style={{display:"flex",gap:"8px"}}>
        {[{l:"Days in wave",v:patient.waveDay},{l:"Cohort avg days",v:patient.cohort.avg},{l:"Time used",v:pctThrough+"%"}].map((x,i)=>(
          <div key={i} style={{flex:1,background:"rgba(255,255,255,0.6)",borderRadius:"10px",padding:"8px 10px",border:"1px solid rgba(200,160,140,0.2)",textAlign:"center"}}>
            <div style={{fontSize:"16px",fontWeight:800,color:i===2&&pctThrough>100?"#c0392b":wave.color}}>{x.v}</div>
            <div style={{fontSize:"9px",color:"#a8887a",marginTop:"1px"}}>{x.l}</div>
          </div>
        ))}
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ ACTIVITY FEED ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function ActivityFeed({patient}){
  return (
    <div>
      {patient.recentActivity.map((a,i)=>{
        const isAlert=a.note.startsWith("‚ö†");
        return (
          <div key={i} style={{display:"flex",gap:"10px",padding:"9px 0",borderBottom:i<patient.recentActivity.length-1?"1px solid rgba(200,160,140,0.15)":"none"}}>
            <div style={{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",flexShrink:0,paddingTop:"2px"}}>
              <DisciplineTag disc={a.disc}/>
              <div style={{fontSize:"9px",color:"#c4a898",marginTop:"2px"}}>{a.time}</div>
            </div>
            <p style={{fontSize:"11.5px",color:isAlert?"#b02020":"#3a2010",lineHeight:1.5,fontWeight:isAlert?600:400}}>
              <T>{a.note}</T>
            </p>
          </div>
        );
      })}
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ MILESTONE CHECKLIST ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function MilestoneChecklist({wave,onToggle}){
  const done=wave.milestones.filter(m=>m.done).length;
  const total=wave.milestones.length;
  return (
    <div>
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}}>
        <div style={{fontSize:"11px",color:"#907060"}}><strong style={{color:"#2d1a0e"}}>{done}</strong> of {total} milestones met</div>
        <div className="progress-bar" style={{width:"120px"}}>
          <div className="progress-fill" style={{width:`${total?Math.round(done/total*100):0}%`,background:wave.color}}/>
        </div>
      </div>
      {wave.milestones.map(m=>(
        <div key={m.id} className="row-item" style={{borderRadius:"10px",marginBottom:"2px",background:m.done?"rgba(255,255,255,0.6)":"transparent"}}
          onClick={()=>onToggle&&onToggle(m.id)}>
          <div style={{display:"flex",alignItems:"center",gap:"8px",minWidth:0}}>
            <span style={{width:"14px",height:"14px",borderRadius:"4px",flexShrink:0,background:m.done?wave.color:"transparent",border:`2px solid ${m.done?wave.color:"rgba(200,160,140,0.5)"}`,display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.15s"}}>
              {m.done&&<span style={{color:"#fff",fontSize:"9px",fontWeight:900}}>‚úì</span>}
            </span>
            <span style={{fontSize:"12px",color:m.done?"#907060":"#2d1a0e",fontWeight:m.critical?600:400}}>
              {m.critical&&!m.done&&<span style={{color:"#c0392b",marginRight:"4px"}}>‚óè</span>}
              <T>{m.text}</T>
            </span>
            {m.flagged&&<span style={{fontSize:"10px",color:"#c0392b",fontWeight:600}}>‚ö†</span>}
          </div>
          <DisciplineTag disc={m.discipline}/>
        </div>
      ))}
    </div>
  );
}


// ‚îÄ‚îÄ‚îÄ EXTEND MODAL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function ExtendModal({patient,wave,onClose,onExtend}){
  const [days,setDays]=useState(7);
  const incomplete=wave.milestones.filter(m=>!m.done);
  return (
    <div className="modal-overlay" onClick={onClose}>
      <div className="modal pop-in" onClick={e=>e.stopPropagation()}>
        <div style={{padding:"20px 24px",borderBottom:"1px solid rgba(200,160,140,0.25)"}}>
          <div style={{display:"flex",justifyContent:"space-between",alignItems:"center"}}>
            <div>
              <div style={{fontSize:"16px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif"}}>Extend {wave.name}</div>
              <div style={{fontSize:"11px",color:"#907060",marginTop:"2px"}}>Auto-justification from milestone data</div>
            </div>
            <button onClick={onClose} style={{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#a8887a"}}>‚úï</button>
          </div>
        </div>
        <div style={{padding:"20px 24px",overflowY:"auto",flex:1}}>
          <div style={{marginBottom:"16px"}}>
            <div style={{fontSize:"11px",fontWeight:700,color:"#2d1a0e",marginBottom:"8px"}}>Extension Duration</div>
            <div style={{display:"flex",gap:"8px"}}>
              {[3,5,7,10,14].map(d=>(
                <button key={d} onClick={()=>setDays(d)} style={{padding:"7px 16px",borderRadius:"20px",border:"1px solid",fontFamily:"'Nunito',sans-serif",fontSize:"12px",fontWeight:700,cursor:"pointer",background:days===d?wave.color:"transparent",color:days===d?"#fff":wave.color,borderColor:wave.color,transition:"all 0.12s"}}>{d}d</button>
              ))}
            </div>
          </div>
          <div style={{marginBottom:"16px"}}>
            <div style={{fontSize:"11px",fontWeight:700,color:"#2d1a0e",marginBottom:"6px"}}>Remaining Milestones ({incomplete.length})</div>
            {incomplete.map((m,i)=>(
              <div key={i} style={{display:"flex",alignItems:"center",gap:"6px",padding:"5px 0",borderBottom:"1px solid rgba(200,160,140,0.15)"}}>
                <span style={{width:"5px",height:"5px",borderRadius:"50%",background:m.critical?"#c0392b":"rgba(200,160,140,0.5)",flexShrink:0}}/>
                <span style={{fontSize:"11px",color:"#3a2010"}}><T>{m.text}</T></span>
                <DisciplineTag disc={m.discipline}/>
              </div>
            ))}
          </div>
          <div style={{background:wave.light,border:`1px solid ${wave.color}33`,borderRadius:"12px",padding:"10px 12px"}}>
            <div style={{fontSize:"10px",fontWeight:700,color:wave.color,marginBottom:"3px"}}>üìä Cohort Context</div>
            <div style={{fontSize:"11px",color:"#4a6080"}}>Patients with <T>{patient.type}</T> stroke average {patient.cohort.avg} days in {wave.name}. Extension of {days} days is clinically supported by {incomplete.filter(m=>m.critical).length} outstanding critical milestone(s).</div>
          </div>
        </div>
        <div style={{padding:"16px 24px",borderTop:"1px solid rgba(200,160,140,0.25)",display:"flex",gap:"10px",justifyContent:"flex-end"}}>
          <button onClick={onClose} style={{padding:"8px 20px",border:"1px solid rgba(200,160,140,0.4)",borderRadius:"20px",background:"transparent",color:"#907060",fontFamily:"'Nunito',sans-serif",fontSize:"12px",fontWeight:600,cursor:"pointer"}}>Cancel</button>
          <button onClick={()=>{onExtend(days);onClose()}} style={{padding:"8px 20px",border:"none",borderRadius:"20px",background:wave.color,color:"#fff",fontFamily:"'Nunito',sans-serif",fontSize:"12px",fontWeight:700,cursor:"pointer"}}>Extend by {days} days</button>
        </div>
      </div>
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ TRANSITION PANEL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function TransitionPanel({patient,wave}){
  const [checks,setChecks]=useState({mobility:false,comm:false,caregiver:false,home:false,bp:false});
  const done=Object.values(checks).filter(Boolean).length;
  const items=[
    {k:"mobility",label:"Mobility goals met (‚â•75% Wave milestones)"},
    {k:"comm",label:"Communication status documented for receiving team"},
    {k:"caregiver",label:"Caregiver readiness assessed"},
    {k:"home",label:"Home safety evaluation complete"},
    {k:"bp",label:"BP within target range x48h"},
  ];
  return (
    <div style={{padding:"14px 16px",borderRadius:"14px",background:"rgba(255,255,255,0.5)",border:"1px solid rgba(200,160,140,0.25)"}}>
      <div style={{fontSize:"10px",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",color:"#a8887a",marginBottom:"8px"}}>Wave Transition Readiness</div>
      <div className="progress-bar" style={{marginBottom:"10px"}}>
        <div className="progress-fill" style={{width:`${done/items.length*100}%`,background:wave.color}}/>
      </div>
      {items.map(item=>(
        <div key={item.k} className="row-item" style={{borderRadius:"10px"}} onClick={()=>setChecks(p=>({...p,[item.k]:!p[item.k]}))}>
          <div style={{display:"flex",alignItems:"center",gap:"8px"}}>
            <span style={{width:"14px",height:"14px",borderRadius:"4px",border:`2px solid ${checks[item.k]?wave.color:"rgba(200,160,140,0.4)"}`,background:checks[item.k]?wave.color:"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.12s"}}>
              {checks[item.k]&&<span style={{color:"#fff",fontSize:"9px",fontWeight:900}}>‚úì</span>}
            </span>
            <span style={{fontSize:"11.5px",color:checks[item.k]?"#a8887a":"#2d1a0e",textDecoration:checks[item.k]?"line-through":"none"}}><T>{item.label}</T></span>
          </div>
        </div>
      ))}
      {done===items.length&&<div className="alert-banner alert-success" style={{marginTop:"10px",marginBottom:0}}>‚úì Patient ready for Wave {wave.id+1} transition</div>}
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ PATIENT DETAIL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function PatientDetail({patient, onBack, setPatients}){
  const [tab,setTab]=useState("overview");
  const [showExtend,setShowExtend]=useState(false);
  const wave=WAVES.find(w=>w.id===patient.wave);
  const [milestones,setMilestones]=useState(wave.milestones.map(m=>({...m})));
  const done=milestones.filter(m=>m.done).length;
  const pct=milestones.length?Math.round(done/milestones.length*100):0;
  const waveWithMs={...wave,milestones};
  const admDate=parseDate(patient.admissionDate);

  const handleUpdateDurations=(newD)=>{
    setPatients(prev=>prev.map(p=>p.id===patient.id?{...p,waveDurations:newD}:p));
  };
  const handleExtend=(days)=>{
    setPatients(prev=>prev.map(p=>p.id===patient.id?{...p,extendedBy:p.extendedBy+days,waveDurations:{...p.waveDurations,[p.wave]:(p.waveDurations[p.wave]||21)+days}}:p));
  };

  const TABS=[
    {id:"overview",   label:"Overview"},
    {id:"milestones", label:"Milestones"},
    {id:"team",       label:"Team Notes"},
    {id:"cohort",     label:"Cohort Insights"},
    {id:"timeline",   label:"Timeline & Calendar"},
    {id:"transition", label:"Transition"},
  ];
  const TAB_ICONS = {
    overview:   (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>),
    milestones: (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><polyline points="9 11 12 14 22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg>),
    team:       (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>),
    cohort:     (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>),
    timeline:   (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>),
    transition: (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><polyline points="5 12 3 12 12 3 21 12 19 12"/><polyline points="5 12 5 20 9 20 9 14 15 14 15 20 19 20 19 12"/></svg>),
  };

  return (
    <div className="fade-up" style={{display:"flex",flexDirection:"column",height:"100%"}}>
      <div style={{background:"rgba(255,255,255,0.85)",borderBottom:"1px solid rgba(200,160,140,0.25)",padding:"14px 24px",flexShrink:0,backdropFilter:"blur(8px)"}}>
        <div style={{display:"flex",alignItems:"center",gap:"12px"}}>
          <button onClick={onBack} style={{background:"none",border:"none",cursor:"pointer",color:"#a8887a",fontSize:"18px",padding:"4px"}}>‚Üê</button>
          <div style={{width:"38px",height:"38px",borderRadius:"50%",background:`${wave.color}20`,border:`2px solid ${wave.color}`,display:"flex",alignItems:"center",justifyContent:"center",color:wave.color,fontWeight:800,fontSize:"13px",flexShrink:0}}>{patient.initials}</div>
          <div style={{flex:1}}>
            <div style={{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"}}>
              <span style={{fontSize:"16px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif"}}>{patient.name}</span>
              <WaveTag wave={wave} color={wave.color}/>
              <StatusDot status={patient.status}/>
              {patient.setback&&<span className="badge badge-yellow">‚ö° Setback recovery</span>}
              {patient.extendedBy>0&&<span className="badge badge-orange">+{patient.extendedBy}d extended</span>}
            </div>
            <div style={{fontSize:"11px",color:"#907060",marginTop:"2px"}}>
              <T>{patient.type}</T> ¬∑ {patient.severity} ¬∑ Admitted {fmtDateFull(admDate)} ¬∑ Day {patient.waveDay} of wave
              {patient.coverageDoctor&&<span style={{marginLeft:"8px",color:"#a8887a"}}>Coverage: <strong style={{color:"#3d2010"}}>{patient.coverageDoctor}</strong></span>}
            </div>
          </div>
          <div style={{display:"flex",gap:"8px",alignItems:"center"}}>
            <ProgressRing pct={pct} color={wave.color} size={48}/>
            {patient.waveDay>=Math.floor(patient.waveTotal*0.75)&&(
              <button className="extend-btn" style={{color:wave.color,borderColor:wave.color}} onClick={()=>setShowExtend(true)}>Extend Wave</button>
            )}
          </div>
        </div>
        {patient.alerts.length>0&&(
          <div style={{marginTop:"10px"}}>
            {patient.alerts.map((a,i)=>(
              <div key={i} className={`alert-banner alert-${a.type}`} style={{marginBottom:i<patient.alerts.length-1?"4px":0}}>
                {a.type==="danger"?"üî¥":a.type==="warning"?"‚ö†Ô∏è":a.type==="success"?"‚úì":"‚ÑπÔ∏è"} <T>{a.msg}</T>
                {a.disc&&<DisciplineTag disc={a.disc}/>}
              </div>
            ))}
          </div>
        )}
      </div>

      <div className="tab-row" style={{"--wave-color":wave.color,flexShrink:0}}>
        {TABS.map(t=><div key={t.id} className={`tab ${tab===t.id?"active":""}`} onClick={()=>setTab(t.id)} style={{display:"flex",alignItems:"center",gap:"6px"}}>{TAB_ICONS[t.id]}{t.label}</div>)}
      </div>

      <div style={{flex:1,overflowY:"auto",padding:"20px 24px"}}>
        {tab==="overview"&&(
          <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",alignItems:"start"}}>
            <div style={{display:"flex",flexDirection:"column",gap:"14px"}}>
              <div className="card" style={{padding:"16px"}}>
                <div style={{fontSize:"11px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"12px"}}>Key Metrics</div>
                <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"}}>
                  {[{l:"NIHSS",v:patient.nihss},{l:"mRS",v:patient.mRS},{l:"MoCA",v:patient.moca},{l:"FM-UE",v:patient.motor}].map((m,i)=>(
                    <div key={i} style={{textAlign:"center",background:"rgba(255,255,255,0.5)",borderRadius:"12px",padding:"10px 8px"}}>
                      <div style={{fontSize:"20px",fontWeight:800,color:wave.color,fontFamily:"'Fraunces',Georgia,serif"}}>{m.v}</div>
                      <div style={{fontSize:"9px",color:"#a8887a",marginTop:"1px",textTransform:"uppercase",letterSpacing:"0.06em"}}>
                        <AbbrSpan term={m.l}>{m.l}</AbbrSpan>
                      </div>
                    </div>
                  ))}
                </div>
              </div>
              <div className="card" style={{padding:"16px"}}>
                <div style={{fontSize:"11px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"10px"}}>Wave Progress</div>
                <div style={{display:"flex",gap:"4px",marginBottom:"12px"}}>
                  {WAVES.map(w=>{
                    const state=w.id<patient.wave?"done":w.id===patient.wave?"active":"future";
                    return <div key={w.id} style={{flex:1,height:"6px",borderRadius:"3px",background:state==="done"?w.color:state==="active"?`${w.color}80`:"rgba(200,160,140,0.2)",position:"relative"}}>
                      {state==="active"&&<div style={{position:"absolute",right:"-2px",top:"-3px",width:"12px",height:"12px",borderRadius:"50%",background:w.color,border:"2px solid #fff",boxShadow:`0 0 0 2px ${w.color}`}}/>}
                    </div>;
                  })}
                </div>
                <div style={{display:"flex",justifyContent:"space-between"}}>
                  {WAVES.map(w=>(
                    <div key={w.id} style={{textAlign:"center",flex:1}}>
                      <span style={{fontSize:"9px",color:w.id===patient.wave?w.color:"#c4a898",fontWeight:w.id===patient.wave?700:400}}>W{w.id}</span>
                    </div>
                  ))}
                </div>
              </div>
              {patient.setback&&(
                <div className="card" style={{padding:"14px 16px",borderLeft:"3px solid #f39c12"}}>
                  <div style={{fontSize:"10px",fontWeight:700,color:"#f39c12",letterSpacing:"0.08em",textTransform:"uppercase",marginBottom:"5px"}}>‚ö° Setback Documented</div>
                  <div style={{fontSize:"11px",color:"#6a5040",lineHeight:1.5}}>Wave paused ‚Äî patient experienced setback. Progress resumed after wave protocols. Currently tracking with full recovery trajectory.</div>
                </div>
              )}
            </div>
            <div className="card" style={{padding:"16px"}}>
              <div style={{fontSize:"11px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"10px"}}>Today's Team Activity</div>
              <ActivityFeed patient={patient}/>
            </div>
          </div>
        )}
        {tab==="milestones"&&(
          <div className="card" style={{padding:"18px"}}>
            <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"14px"}}>
              <div>
                <div style={{fontSize:"14px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif"}}>{wave.name}: {wave.label}</div>
                <div style={{fontSize:"11px",color:"#907060",marginTop:"2px"}}>Click any milestone to toggle completion</div>
              </div>
              <span className="badge" style={{background:`${wave.color}18`,color:wave.color}}>{pct}% complete</span>
            </div>
            <MilestoneChecklist wave={waveWithMs} onToggle={id=>setMilestones(prev=>prev.map(m=>m.id===id?{...m,done:!m.done}:m))}/>
          </div>
        )}
        {tab==="team"&&(
          <div className="card" style={{padding:"18px"}}>
            <div style={{fontSize:"14px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif",marginBottom:"4px"}}>Multi-Disciplinary Notes</div>
            <div style={{fontSize:"11px",color:"#907060",marginBottom:"14px"}}>All disciplines document against shared Wave milestones ‚Äî one unified view</div>
            <div style={{display:"flex",gap:"6px",flexWrap:"wrap",marginBottom:"14px",paddingBottom:"12px",borderBottom:"1px solid rgba(200,160,140,0.2)"}}>
              {Object.keys(DISCIPLINES).map(k=><DisciplineTag key={k} disc={k}/>)}
            </div>
            <ActivityFeed patient={patient}/>
            {patient.alerts.some(a=>a.type==="danger")&&(
              <div className="alert-banner alert-danger" style={{marginTop:"12px"}}>
                ‚ö† Conflict detected: <T>PT</T> and <T>Nursing</T> have conflicting mobility safety assessments ‚Äî resolution required
              </div>
            )}
          </div>
        )}
        {tab==="cohort"&&(
          <div style={{display:"flex",flexDirection:"column",gap:"14px"}}>
            <CohortInsight patient={patient}/>
            <div className="card" style={{padding:"16px"}}>
              <div style={{fontSize:"11px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"10px"}}>Evidence-Based Projections</div>
              <div style={{display:"flex",flexDirection:"column",gap:"8px"}}>
                {[
                  {label:`Expected ${wave.name} duration`,value:`${patient.cohort.avg} days`,sub:"Based on similar presentations"},
                  {label:"Functional communication likelihood",value:"72%",sub:"If SLP milestone met by day 14"},
                  {label:"Home discharge probability",value:"68%",sub:"Patients with similar progress"},
                  {label:`Wave ${wave.id+1} duration estimate`,value:"45‚Äì60 days",sub:`${patient.type}, n=47`},
                ].map((item,i)=>(
                  <div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.5)",borderRadius:"10px"}}>
                    <div>
                      <div style={{fontSize:"11.5px",fontWeight:600,color:"#2d1a0e"}}><T>{item.label}</T></div>
                      <div style={{fontSize:"10px",color:"#a8887a",marginTop:"1px",fontStyle:"italic"}}><T>{item.sub}</T></div>
                    </div>
                    <div style={{fontSize:"14px",fontWeight:800,color:wave.color,flexShrink:0}}>{item.value}</div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        )}
        {tab==="timeline"&&(
          <TimelineTab patient={patient} onUpdateDurations={handleUpdateDurations}/>
        )}
        {tab==="transition"&&(
          <div style={{display:"flex",flexDirection:"column",gap:"14px"}}>
            <TransitionPanel patient={patient} wave={wave}/>
            <div className="card" style={{padding:"16px"}}>
              <div style={{fontSize:"11px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"10px"}}>Handoff Summary Preview</div>
              <div style={{background:"rgba(255,255,255,0.5)",border:"1px solid rgba(200,160,140,0.25)",borderRadius:"12px",padding:"12px 14px"}}>
                <div style={{fontSize:"12px",fontWeight:700,color:"#2d1a0e",marginBottom:"6px"}}>{wave.name} ‚Üí Wave {wave.id+1} Transfer</div>
                <div style={{fontSize:"11px",color:"#6a5040",lineHeight:1.7}}>
                  <strong>Achieved:</strong> <T>{wave.milestones.filter(m=>m.done).map(m=>m.text).join("; ")||"Reviewing..."}</T><br/>
                  <strong>Continuing needs:</strong> <T>{wave.milestones.filter(m=>!m.done).map(m=>m.text).join("; ")||"All milestones met"}</T><br/>
                  <strong>Priority for next phase:</strong> <T>{wave.milestones.filter(m=>!m.done&&m.critical).map(m=>m.text).join("; ")||"Standard Wave protocol"}</T>
                </div>
              </div>
              <div className="alert-banner alert-info" style={{marginTop:"10px",marginBottom:0}}>‚Ñπ Wave {wave.id+1} plan will inherit all incomplete goals automatically</div>
            </div>
          </div>
        )}
      </div>

      {showExtend&&<ExtendModal patient={patient} wave={wave} onClose={()=>setShowExtend(false)} onExtend={handleExtend}/>}
    </div>
  );
}


// ‚îÄ‚îÄ‚îÄ CALENDAR VIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function CalendarView({onSelectPatient, patients}){
  const today = new Date("2026-02-20T00:00:00");
  const [selectedDay, setSelectedDay] = useState(dateKey(today));
  const [viewMode, setViewMode] = useState("week"); // "week" | "month"
  // monthOffset: 0 = current month (Feb 2026), +1 = Mar, -1 = Jan, etc.
  const [monthOffset, setMonthOffset] = useState(0);
  // Hover tooltip state for month view
  const [hoveredDay, setHoveredDay] = useState(null);       // dateKey string
  const [hoverPos,   setHoverPos]   = useState({x:0,y:0}); // page coords of cell
  const hoverTimer = useRef(null);
  const tooltipHovered = useRef(false); // true while mouse is inside tooltip

  // Build 14-day window for week strip
  const days = [];
  for(let i=0; i<14; i++){
    const d = addDays(today, i);
    days.push({ date: d, key: dateKey(d) });
  }

  // Index ALL events by date
  const eventsByDay = useMemo(()=>{
    const idx = {};
    CALENDAR_EVENTS_DATA.forEach(ev=>{
      if(!idx[ev.date]) idx[ev.date] = [];
      idx[ev.date].push(ev);
    });
    return idx;
  }, []);

  const breakByDay = useMemo(()=>{
    const idx = {};
    BREAK_SCHEDULE_DATA.forEach(b=>{ idx[b.date] = b; });
    return idx;
  }, []);

  const selectedEvents = (eventsByDay[selectedDay]||[]).slice().sort((a,b)=>a.time.localeCompare(b.time));
  const selectedBreak  = breakByDay[selectedDay];

  // Helper: navigate to patient page from event
  const goToPatient = (ev, e) => {
    e && e.stopPropagation();
    const p = patients.find(pt=>pt.name===ev.patientName || pt.id===ev.patientId);
    if(p && onSelectPatient) onSelectPatient(p);
  };

  // Month navigation helpers
  const displayMonth = useMemo(()=>{
    const d = new Date("2026-02-01T00:00:00");
    d.setMonth(d.getMonth() + monthOffset);
    return d;
  }, [monthOffset]);

  const displayMonthLabel = displayMonth.toLocaleDateString('en-US',{month:'long',year:'numeric'});

  // Build month grid for displayMonth
  const monthGrid = useMemo(()=>{
    const m = displayMonth.getMonth();
    const y = displayMonth.getFullYear();
    const firstDay = new Date(y, m, 1);
    const dow = firstDay.getDay(); // 0=Sun
    const startOffset = dow===0 ? -6 : 1-dow; // shift to Monday
    const gridStart = addDays(firstDay, startOffset);
    const weeks = [];
    for(let w=0; w<6; w++){
      const week=[];
      for(let d=0; d<7; d++) week.push(addDays(gridStart, w*7+d));
      weeks.push(week);
    }
    return {weeks, month:m, year:y};
  }, [displayMonth]);

  // Hover handlers with 1-second delay
  const onDayMouseEnter = (dk, rect) => {
    clearTimeout(hoverTimer.current);
    hoverTimer.current = setTimeout(()=>{
      setHoveredDay(dk);
      setHoverPos({x:rect.right+8, y:rect.top});
    }, 900);
  };
  const onDayMouseLeave = (e) => {
    // Only clear if truly leaving the cell (not moving into a child) and not into tooltip
    if(e && e.currentTarget.contains(e.relatedTarget)) return;
    clearTimeout(hoverTimer.current);
    // Delay slightly so tooltipHovered ref can be set if mouse went to tooltip
    setTimeout(()=>{ if(!tooltipHovered.current) setHoveredDay(null); }, 80);
  };

  // Leave day banner strip for month header
  const leaveDaysInMonth = BREAK_SCHEDULE_DATA.filter(b=>{
    const bd = parseDate(b.date);
    return bd.getMonth()===monthGrid.month && bd.getFullYear()===monthGrid.year;
  });

  const DOW_LABELS = ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];
  const todayKey = dateKey(today);

  return (
    <div className="fade-up" style={{display:"flex",flexDirection:"column",height:"100%"}}>

      {/* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */}
      <div style={{padding:"14px 24px",background:"rgba(255,255,255,0.7)",borderBottom:"1px solid rgba(200,160,140,0.25)",flexShrink:0,backdropFilter:"blur(6px)"}}>
        <div style={{display:"flex",justifyContent:"space-between",alignItems:"center"}}>
          <div>
            <div style={{fontSize:"18px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif",lineHeight:1}}>Calendar View</div>
            <div style={{fontSize:"11px",color:"#907060",marginTop:"3px"}}>
              {viewMode==="week"
                ? "Upcoming appointments, sessions & tests ¬∑ Feb 20 ‚Äì Mar 6, 2026"
                : displayMonthLabel}
            </div>
          </div>
          <div style={{display:"flex",gap:"8px",alignItems:"center"}}>
            {leaveDaysInMonth.length>0&&viewMode==="month"&&(
              <div style={{background:"rgba(200,120,80,0.1)",border:"1px solid rgba(200,120,80,0.3)",borderRadius:"10px",padding:"5px 12px",fontSize:"10px",fontWeight:700,color:"#a86040"}}>
                üåø Leave: {leaveDaysInMonth.map(b=>parseDate(b.date).toLocaleDateString('en-US',{month:'short',day:'numeric'})).join(', ')}
              </div>
            )}
            {viewMode==="week"&&(
              <div style={{background:"rgba(200,120,80,0.1)",border:"1px solid rgba(200,120,80,0.3)",borderRadius:"10px",padding:"5px 12px",fontSize:"10px",fontWeight:700,color:"#a86040"}}>
                üåø Dr. A. Chen on leave: Feb 22‚Äì23, Feb 26, Mar 2‚Äì3
              </div>
            )}
            {[
              {m:"week",  label:"Week",  icon:<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>},
              {m:"month", label:"Month", icon:<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/><line x1="8" y1="14" x2="8.01" y2="14"/><line x1="12" y1="14" x2="12.01" y2="14"/><line x1="16" y1="14" x2="16.01" y2="14"/><line x1="8" y1="18" x2="8.01" y2="18"/><line x1="12" y1="18" x2="12.01" y2="18"/><line x1="16" y1="18" x2="16.01" y2="18"/></svg>},
            ].map(({m,label,icon})=>(
              <button key={m} onClick={()=>setViewMode(m)} style={{padding:"6px 13px",borderRadius:"20px",border:"none",fontFamily:"'Nunito',sans-serif",fontSize:"11px",fontWeight:700,cursor:"pointer",background:viewMode===m?"#3d2010":"rgba(255,255,255,0.6)",color:viewMode===m?"#fff":"#907060",transition:"all 0.15s",display:"flex",alignItems:"center",gap:"5px"}}>
                {icon}{label}
              </button>
            ))}
          </div>
        </div>
      </div>

      {/* ‚îÄ‚îÄ MONTH VIEW ‚îÄ‚îÄ */}
      {viewMode==="month"&&(
        <div style={{flex:1,overflow:"auto",padding:"12px 20px",position:"relative"}} onClick={()=>{tooltipHovered.current=false;setHoveredDay(null);}}>

          {/* Month nav */}
          <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}}>
            <button onClick={()=>setMonthOffset(o=>o-1)} style={{background:"rgba(255,255,255,0.7)",border:"1px solid rgba(200,160,140,0.3)",borderRadius:"20px",padding:"5px 14px",cursor:"pointer",fontFamily:"'Nunito',sans-serif",fontSize:"12px",fontWeight:700,color:"#907060",display:"flex",alignItems:"center",gap:"5px",transition:"all 0.12s"}}>
              <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><polyline points="15 18 9 12 15 6"/></svg> Prev
            </button>
            <div style={{fontSize:"14px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif"}}>{displayMonthLabel}</div>
            <button onClick={()=>setMonthOffset(o=>o+1)} style={{background:"rgba(255,255,255,0.7)",border:"1px solid rgba(200,160,140,0.3)",borderRadius:"20px",padding:"5px 14px",cursor:"pointer",fontFamily:"'Nunito',sans-serif",fontSize:"12px",fontWeight:700,color:"#907060",display:"flex",alignItems:"center",gap:"5px",transition:"all 0.12s"}}>
              Next <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
            </button>
          </div>

          {/* Leave day info strip */}
          {leaveDaysInMonth.length>0&&(
            <div style={{display:"flex",gap:"6px",flexWrap:"wrap",marginBottom:"10px"}}>
              {leaveDaysInMonth.map((b,i)=>(
                <div key={i} style={{background:"rgba(200,120,80,0.1)",border:"1px solid rgba(200,120,80,0.3)",borderRadius:"10px",padding:"4px 10px",fontSize:"10px",fontWeight:700,color:"#a86040",display:"flex",alignItems:"center",gap:"5px"}}>
                  üåø {parseDate(b.date).toLocaleDateString('en-US',{month:'short',day:'numeric'})} ‚Äî {b.reason}
                  <span style={{color:"#2980b9",fontWeight:800}}>¬∑ {b.coveringDoctor}</span>
                </div>
              ))}
            </div>
          )}

          {/* DOW header */}
          <div style={{display:"grid",gridTemplateColumns:"repeat(7,1fr)",gap:"4px",marginBottom:"4px"}}>
            {DOW_LABELS.map(l=>(
              <div key={l} style={{textAlign:"center",fontSize:"10px",fontWeight:700,color:"#a8887a",letterSpacing:"0.06em",textTransform:"uppercase",padding:"4px 0"}}>{l}</div>
            ))}
          </div>

          {/* Week rows */}
          {monthGrid.weeks.map((week,wi)=>(
            <div key={wi} style={{display:"grid",gridTemplateColumns:"repeat(7,1fr)",gap:"4px",marginBottom:"4px"}}>
              {week.map(day=>{
                const dk = dateKey(day);
                const ev = (eventsByDay[dk]||[]).slice().sort((a,b)=>a.time.localeCompare(b.time));
                const br = breakByDay[dk];
                const isThisMonth = day.getMonth()===monthGrid.month;
                const isToday = dk===todayKey;
                const isSelected = dk===selectedDay;
                const evPreview = ev.slice(0,3);
                const evRemainder = ev.length-3;

                return (
                  <div key={dk} style={{position:"relative"}}
                    onMouseEnter={e=>{
                      const rect = e.currentTarget.getBoundingClientRect();
                      onDayMouseEnter(dk, rect);
                    }}
                    onMouseLeave={onDayMouseLeave}
                    onClick={(e)=>{e.stopPropagation();setSelectedDay(dk);setViewMode("week");}}>

                    {/* Cell */}
                    <div style={{
                      minHeight:"100px",borderRadius:"12px",padding:"7px 8px",cursor:"pointer",
                      background:isSelected?"rgba(61,32,16,0.08)":isToday?"rgba(200,120,80,0.1)":br?"rgba(200,120,80,0.05)":"rgba(255,255,255,0.55)",
                      border:isSelected?"1.5px solid #3d2010":isToday?"1.5px solid rgba(200,120,80,0.5)":br?"1px dashed rgba(200,120,80,0.4)":"1px solid rgba(200,160,140,0.2)",
                      opacity:isThisMonth?1:0.3,
                      transition:"all 0.12s",
                    }}>
                      {/* Day number row */}
                      <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"4px"}}>
                        <span style={{fontSize:"12px",fontWeight:isToday?800:600,color:isToday?"#a86040":isSelected?"#3d2010":"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif",background:isToday?"rgba(200,120,80,0.15)":"transparent",borderRadius:"6px",padding:isToday?"1px 5px":"0",lineHeight:1.4}}>
                          {day.getDate()}
                        </span>
                        {br&&(
                          <div style={{textAlign:"right"}}>
                            <div style={{fontSize:"7px",color:"#a86040",background:"rgba(200,120,80,0.15)",borderRadius:"4px",padding:"1px 4px",fontWeight:700,lineHeight:1.4}}>Off</div>
                            <div style={{fontSize:"7px",color:"#2980b9",fontWeight:700,marginTop:"1px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"58px"}}>{br.coveringDoctor.replace("Dr. ","")}</div>
                          </div>
                        )}
                      </div>

                      {/* Event previews */}
                      {ev.length===0&&<div style={{fontSize:"9px",color:"rgba(200,160,140,0.4)",marginTop:"2px"}}>‚Äî</div>}
                      <div style={{display:"flex",flexDirection:"column",gap:"2px"}}>
                        {evPreview.map((e,i)=>(
                          <div key={i}
                            onClick={ev2=>{ev2.stopPropagation();goToPatient(e,ev2);}}
                            style={{display:"flex",alignItems:"center",gap:"3px",background:`${e.color}12`,borderRadius:"5px",padding:"2px 5px",border:`1px solid ${e.color}22`,overflow:"hidden",cursor:"pointer",transition:"background 0.1s"}}
                            onMouseEnter={ev2=>{ev2.currentTarget.style.background=`${e.color}25`;ev2.stopPropagation();}}
                            onMouseLeave={ev2=>{ev2.currentTarget.style.background=`${e.color}12`;}}>
                            <span style={{fontSize:"9px",flexShrink:0}}>{e.icon}</span>
                            <span style={{fontSize:"8px",fontWeight:700,color:"#2d1a0e",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{e.patientName}</span>
                            <span style={{fontSize:"8px",color:"#a8887a",flexShrink:0,marginLeft:"2px"}}>{e.time}</span>
                          </div>
                        ))}
                        {evRemainder>0&&(
                          <div style={{fontSize:"8px",color:"#a8887a",paddingLeft:"3px",fontWeight:600}}>+{evRemainder} more</div>
                        )}
                      </div>
                    </div>
                  </div>
                );
              })}
            </div>
          ))}

          <div style={{fontSize:"10px",color:"#c4a898",textAlign:"center",marginTop:"8px",fontStyle:"italic"}}>
            Hover a day 1 second for full list ¬∑ click any event to open patient ¬∑ click day to switch to week view
          </div>

          {/* ‚îÄ‚îÄ HOVER TOOLTIP ‚îÄ‚îÄ */}
          {hoveredDay&&(()=>{
            const hev = (eventsByDay[hoveredDay]||[]).slice().sort((a,b)=>a.time.localeCompare(b.time));
            const hbr = breakByDay[hoveredDay];
            const hDate = parseDate(hoveredDay);
            if(hev.length===0&&!hbr) return null;
            return (
              <div
                onMouseEnter={()=>{ tooltipHovered.current=true; clearTimeout(hoverTimer.current); }}
                onMouseLeave={()=>{ tooltipHovered.current=false; setHoveredDay(null); }}
                onClick={e=>e.stopPropagation()}
                style={{
                  position:"fixed",
                  left:Math.min(hoverPos.x, (window.innerWidth||1200)-260)+"px",
                  top:Math.max(hoverPos.y, 80)+"px",
                  width:"240px",maxHeight:"380px",overflowY:"auto",
                  background:"rgba(255,252,249,0.97)",
                  border:"1px solid rgba(200,160,140,0.4)",
                  borderRadius:"16px",
                  boxShadow:"0 12px 40px rgba(100,60,30,0.18)",
                  zIndex:500,
                  padding:"12px",
                  backdropFilter:"blur(8px)",
                  animation:"popIn 0.15s ease",
                }}>
                {/* Tooltip header */}
                <div style={{marginBottom:"8px",paddingBottom:"7px",borderBottom:"1px solid rgba(200,160,140,0.2)"}}>
                  <div style={{fontSize:"12px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif"}}>
                    {hDate.toLocaleDateString('en-US',{weekday:'long',month:'short',day:'numeric'})}
                  </div>
                  {hbr&&(
                    <div style={{display:"flex",alignItems:"center",gap:"5px",marginTop:"4px"}}>
                      <span style={{fontSize:"9px",color:"#a86040",background:"rgba(200,120,80,0.12)",borderRadius:"6px",padding:"2px 6px",fontWeight:700}}>üåø Off ¬∑ {hbr.reason}</span>
                      <span style={{fontSize:"9px",color:"#2980b9",fontWeight:700}}>{hbr.coveringDoctor}</span>
                    </div>
                  )}
                </div>
                {/* Full event list */}
                <div style={{display:"flex",flexDirection:"column",gap:"4px"}}>
                  {hev.map((e,i)=>(
                    <div key={i}
                      onClick={ev2=>{ev2.stopPropagation();setHoveredDay(null);goToPatient(e,ev2);}}
                      style={{display:"flex",alignItems:"center",gap:"7px",padding:"6px 8px",borderRadius:"10px",background:`${e.color}10`,border:`1px solid ${e.color}22`,cursor:"pointer",transition:"background 0.1s"}}
                      onMouseEnter={ev2=>ev2.currentTarget.style.background=`${e.color}22`}
                      onMouseLeave={ev2=>ev2.currentTarget.style.background=`${e.color}10`}>
                      <span style={{fontSize:"14px",flexShrink:0}}>{e.icon}</span>
                      <div style={{flex:1,minWidth:0}}>
                        <div style={{fontSize:"10px",fontWeight:800,color:"#2d1a0e",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{e.patientName}</div>
                        <div style={{fontSize:"9px",color:"#a8887a",marginTop:"1px"}}>{e.label}</div>
                      </div>
                      <div style={{fontSize:"10px",fontWeight:700,color:e.color,flexShrink:0}}>{e.time}</div>
                    </div>
                  ))}
                </div>
              </div>
            );
          })()}
        </div>
      )}

      {/* ‚îÄ‚îÄ WEEK VIEW ‚îÄ‚îÄ */}
      {viewMode==="week"&&(
      <div style={{flex:1,display:"flex",overflow:"hidden"}}>
        {/* Day selector strip */}
        <div style={{width:"200px",flexShrink:0,borderRight:"1px solid rgba(200,160,140,0.25)",overflowY:"auto",background:"rgba(255,255,255,0.4)",padding:"12px 8px",display:"flex",flexDirection:"column",gap:"4px"}}>
          {days.map(({date:d,key})=>{
            const ev = eventsByDay[key]||[];
            const br = breakByDay[key];
            const isToday = key === dateKey(today);
            const isSelected = key === selectedDay;
            return (
              <div key={key} onClick={()=>setSelectedDay(key)}
                style={{borderRadius:"12px",padding:"8px 10px",cursor:"pointer",
                  background:isSelected?"#3d2010":isToday?"rgba(200,120,80,0.12)":"transparent",
                  border:isSelected?"none":isToday?"1px solid rgba(200,120,80,0.3)":"1px solid transparent",
                  transition:"all 0.12s"}}>
                <div style={{display:"flex",justifyContent:"space-between",alignItems:"center"}}>
                  <div>
                    <div style={{fontSize:"10px",fontWeight:700,color:isSelected?"rgba(255,255,255,0.7)":isToday?"#a86040":"#a8887a",textTransform:"uppercase",letterSpacing:"0.08em"}}>{fmtDayOfWeek(d)}</div>
                    <div style={{fontSize:"15px",fontWeight:800,color:isSelected?"#fff":"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif",lineHeight:1}}>{d.getDate()}</div>
                    <div style={{fontSize:"9px",color:isSelected?"rgba(255,255,255,0.6)":"#a8887a"}}>{d.toLocaleDateString('en-US',{month:'short'})}</div>
                  </div>
                  <div style={{textAlign:"right"}}>
                    {ev.length>0&&<div style={{fontSize:"10px",fontWeight:700,color:isSelected?"#f8b89a":"#907060"}}>{ev.length}</div>}
                    {br&&<div style={{fontSize:"8px",color:isSelected?"#f8b89a":"#c0392b",fontWeight:700,marginTop:"2px"}}>Leave</div>}
                  </div>
                </div>
                {ev.length>0&&(
                  <div style={{display:"flex",flexDirection:"column",gap:"2px",marginTop:"5px"}}>
                    {ev.slice().sort((a,b)=>a.time.localeCompare(b.time)).slice(0,3).map((e,i)=>(
                      <div key={i} style={{display:"flex",alignItems:"center",gap:"3px",padding:"1px 0"}}>
                        <span style={{fontSize:"9px",flexShrink:0,opacity:isSelected?0.8:1}}>{e.icon}</span>
                        <span style={{fontSize:"9px",fontWeight:600,color:isSelected?"rgba(255,255,255,0.85)":"#3a2010",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:1.3}}>{e.patientName}</span>
                        <span style={{fontSize:"8px",color:isSelected?"rgba(255,255,255,0.5)":"#c4a898",flexShrink:0}}>{e.time}</span>
                      </div>
                    ))}
                    {ev.length>3&&<div style={{fontSize:"8px",color:isSelected?"rgba(255,255,255,0.5)":"#c4a898",paddingLeft:"1px",fontWeight:600}}>+{ev.length-3} more</div>}
                  </div>
                )}
              </div>
            );
          })}
        </div>

        {/* Day detail */}
        <div style={{flex:1,overflowY:"auto",padding:"16px 20px"}}>
          {/* Break banner */}
          {selectedBreak&&(
            <div style={{background:"linear-gradient(135deg,#fff5e8,#ffeedd)",border:"1px solid rgba(200,120,80,0.4)",borderRadius:"14px",padding:"12px 16px",marginBottom:"14px",display:"flex",alignItems:"center",gap:"12px"}}>
              <div style={{fontSize:"24px"}}>üåø</div>
              <div style={{flex:1}}>
                <div style={{fontSize:"13px",fontWeight:800,color:"#a86040",fontFamily:"'Fraunces',Georgia,serif"}}>Dr. A. Chen ‚Äî Leave Day</div>
                <div style={{fontSize:"11px",color:"#c07040",marginTop:"2px"}}>{selectedBreak.reason}</div>
              </div>
              <div style={{textAlign:"right"}}>
                <div style={{fontSize:"10px",color:"#a8887a",marginBottom:"3px",textTransform:"uppercase",letterSpacing:"0.06em",fontWeight:700}}>Covered by</div>
                <div style={{fontSize:"13px",fontWeight:800,color:"#2980b9",fontFamily:"'Fraunces',Georgia,serif"}}>{selectedBreak.coveringDoctor}</div>
                <div style={{fontSize:"10px",color:"#a8887a",marginTop:"1px"}}>{selectedEvents.length} sessions today</div>
              </div>
            </div>
          )}

          {/* Handoff summary */}
          {selectedBreak&&selectedEvents.length>0&&(
            <div style={{background:"rgba(41,128,185,0.08)",border:"1px solid rgba(41,128,185,0.2)",borderRadius:"14px",padding:"12px 16px",marginBottom:"14px"}}>
              <div style={{fontSize:"11px",fontWeight:700,color:"#2050a0",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.06em"}}>üìã Handoff Summary for {selectedBreak.coveringDoctor}</div>
              <div style={{display:"flex",flexDirection:"column",gap:"5px"}}>
                {[...new Set(selectedEvents.map(e=>e.patientName))].map((pname,i)=>{
                  const pEvs = selectedEvents.filter(e=>e.patientName===pname);
                  const activeP = patients.find(p=>p.name===pname);
                  return (
                    <div key={i} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 10px",background:"rgba(255,255,255,0.6)",borderRadius:"10px"}}>
                      <div style={{display:"flex",alignItems:"center",gap:"8px"}}>
                        <div style={{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(41,128,185,0.15)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"9px",fontWeight:700,color:"#2980b9"}}>
                          {pname.split(' ').map(n=>n[0]).join('')}
                        </div>
                        <span
                          onClick={e=>{e.stopPropagation();const p=patients.find(pt=>pt.name===pname);if(p)onSelectPatient(p);}}
                          style={{fontSize:"11px",fontWeight:700,color:"#2980b9",cursor:"pointer",textDecoration:"underline",textDecorationStyle:"dotted",textUnderlineOffset:"2px"}}>{pname}</span>
                        {activeP&&<WaveTag wave={WAVES.find(w=>w.id===activeP.wave)} color={WAVES.find(w=>w.id===activeP.wave)?.color||"#888"}/>}
                      </div>
                      <div style={{display:"flex",gap:"4px",flexWrap:"wrap",justifyContent:"flex-end"}}>
                        {pEvs.map((e,j)=>(
                          <span key={j} style={{fontSize:"9px",background:`${e.color}18`,color:e.color,border:`1px solid ${e.color}33`,borderRadius:"8px",padding:"1px 7px",fontWeight:700}}>{e.icon} {e.label}</span>
                        ))}
                      </div>
                    </div>
                  );
                })}
              </div>
            </div>
          )}

          {/* Day header */}
          <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"}}>
            <div>
              <div style={{fontSize:"14px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif"}}>
                {parseDate(selectedDay).toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'})}
              </div>
              <div style={{fontSize:"11px",color:"#907060",marginTop:"1px"}}>{selectedEvents.length} events scheduled</div>
            </div>
            {!selectedBreak&&(
              <div style={{fontSize:"11px",color:"#2a7a40",background:"#e2f5e8",border:"1px solid #a8ddb8",borderRadius:"10px",padding:"4px 12px",fontWeight:700}}>
                ‚úì Dr. A. Chen attending
              </div>
            )}
          </div>

          {/* Event cards */}
          {selectedEvents.length===0?(
            <div style={{textAlign:"center",padding:"48px",color:"#a8887a",fontSize:"13px"}}>
              <div style={{fontSize:"32px",marginBottom:"8px"}}>üóì</div>
              No events scheduled for this day
            </div>
          ):(
            <div style={{display:"flex",flexDirection:"column",gap:"8px"}}>
              {selectedEvents.map(ev=>{
                const isBreakDay = !!breakByDay[ev.date];
                const patientObj = patients.find(p=>p.name===ev.patientName || p.id===ev.patientId);
                return (
                  <div key={ev.id} className={`card ${isBreakDay?"cal-event break-day":""}`}
                    style={{padding:"12px 16px",borderLeft:`3px solid ${ev.color}`,display:"flex",gap:"12px",alignItems:"center"}}>
                    <div style={{width:"44px",textAlign:"center",flexShrink:0}}>
                      <div style={{fontSize:"14px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif"}}>{ev.time}</div>
                    </div>
                    <div style={{width:"34px",height:"34px",borderRadius:"50%",background:`${ev.color}18`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",flexShrink:0}}>{ev.icon}</div>
                    <div style={{flex:1,minWidth:0}}>
                      <div style={{display:"flex",alignItems:"center",gap:"6px",marginBottom:"3px",flexWrap:"wrap"}}>
                        <span style={{fontSize:"12px",fontWeight:800,color:"#2d1a0e"}}>{ev.label}</span>
                        {/* Clickable patient pill */}
                        <span
                          onClick={e=>{e.stopPropagation();patientObj&&onSelectPatient(patientObj);}}
                          style={{
                            fontSize:"10px",color:ev.color,background:`${ev.color}18`,
                            border:`1px solid ${ev.color}44`,borderRadius:"20px",padding:"2px 10px",
                            fontWeight:700,cursor:patientObj?"pointer":"default",
                            display:"inline-flex",alignItems:"center",gap:"4px",
                            transition:"all 0.12s",
                          }}
                          onMouseEnter={e=>{if(patientObj){e.currentTarget.style.background=`${ev.color}30`;}}}
                          onMouseLeave={e=>{e.currentTarget.style.background=`${ev.color}18`;}}>
                          {patientObj&&<svg width="9" height="9" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>}
                          {ev.patientName}
                        </span>
                      </div>
                      <div style={{fontSize:"10px",color:"#a8887a",display:"flex",gap:"10px",flexWrap:"wrap"}}>
                        <span>üìç {ev.room}</span>
                        <span style={{color:isBreakDay?"#2980b9":"#27ae60",fontWeight:600}}>
                          üë®‚Äç‚öïÔ∏è {isBreakDay?ev.coveringDoctor:ev.assignedDoctor}
                          {isBreakDay&&<span style={{color:"#a8887a",fontWeight:400}}> (covering)</span>}
                        </span>
                        {ev.notes&&<span style={{fontStyle:"italic"}}>{ev.notes}</span>}
                      </div>
                    </div>
                    {isBreakDay&&(
                      <div style={{flexShrink:0}}>
                        <span className="badge badge-orange">Handoff</span>
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          )}
        </div>
      </div>
      )}
    </div>
  );
}


// ‚îÄ‚îÄ‚îÄ ARCHIVE VIEW ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function ArchiveView(){
  const [search, setSearch] = useState("");
  const [outcomeFilter, setOutcomeFilter] = useState("all");
  const [sortBy, setSortBy] = useState("discharge"); // "discharge" | "name" | "stay"
  const [page, setPage] = useState(0);
  const PAGE_SIZE = 25;

  const outcomes = ["all","Excellent","Good","Moderate","Partial","Complex discharge"];

  const filtered = useMemo(()=>{
    let arr = ARCHIVED_PATIENTS_DATA;
    if(search) arr = arr.filter(p=>p.name.toLowerCase().includes(search.toLowerCase())||p.type.toLowerCase().includes(search.toLowerCase()));
    if(outcomeFilter!=="all") arr = arr.filter(p=>p.outcome===outcomeFilter);
    if(sortBy==="discharge") arr = [...arr].sort((a,b)=>b.dischargeDate.localeCompare(a.dischargeDate));
    else if(sortBy==="name") arr = [...arr].sort((a,b)=>a.name.localeCompare(b.name));
    else if(sortBy==="stay") arr = [...arr].sort((a,b)=>b.stayDays-a.stayDays);
    return arr;
  }, [search, outcomeFilter, sortBy]);

  const totalPages = Math.ceil(filtered.length/PAGE_SIZE);
  const pageData = filtered.slice(page*PAGE_SIZE, (page+1)*PAGE_SIZE);

  const OUTCOME_COLORS = {Excellent:"#2a7a40",Good:"#2050a0",Moderate:"#9a6c00","Partial":"#b05010","Complex discharge":"#b02020"};

  return (
    <div className="fade-up" style={{padding:"20px 24px"}}>
      {/* Header */}
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",flexWrap:"wrap",gap:"10px"}}>
        <div>
          <div style={{fontSize:"18px",fontWeight:800,color:"#2d1a0e",fontFamily:"'Fraunces',Georgia,serif",lineHeight:1}}>Closed Patient Archive</div>
          <div style={{fontSize:"11px",color:"#907060",marginTop:"3px"}}>{ARCHIVED_PATIENTS_DATA.length} discharged patients ¬∑ historical records</div>
        </div>
        {/* Stats row */}
        <div style={{display:"flex",gap:"10px",flexWrap:"wrap"}}>
          {["Excellent","Good","Moderate"].map(o=>{
            const count = ARCHIVED_PATIENTS_DATA.filter(p=>p.outcome===o).length;
            return (
              <div key={o} style={{background:"rgba(255,255,255,0.7)",borderRadius:"12px",padding:"6px 14px",border:"1px solid rgba(200,160,140,0.25)",textAlign:"center"}}>
                <div style={{fontSize:"16px",fontWeight:800,color:OUTCOME_COLORS[o],fontFamily:"'Fraunces',Georgia,serif"}}>{count}</div>
                <div style={{fontSize:"9px",color:"#a8887a",textTransform:"uppercase",letterSpacing:"0.06em"}}>{o}</div>
              </div>
            );
          })}
        </div>
      </div>

      {/* Filters */}
      <div style={{display:"flex",gap:"10px",marginBottom:"14px",flexWrap:"wrap",alignItems:"center"}}>
        <div className="search-wrap">
          <input className="search-input" placeholder="Search name or type‚Ä¶" value={search} onChange={e=>{setSearch(e.target.value);setPage(0);}}/>
        </div>
        <div style={{display:"flex",gap:"5px",flexWrap:"wrap"}}>
          {outcomes.map(o=>(
            <button key={o} onClick={()=>{setOutcomeFilter(o);setPage(0);}} style={{padding:"5px 12px",borderRadius:"20px",border:"1px solid",fontFamily:"'Nunito',sans-serif",fontSize:"10px",fontWeight:700,cursor:"pointer",background:outcomeFilter===o?"#3d2010":"transparent",color:outcomeFilter===o?"#fff":OUTCOME_COLORS[o]||"#907060",borderColor:outcomeFilter===o?"#3d2010":OUTCOME_COLORS[o]||"rgba(200,160,140,0.4)",transition:"all 0.12s"}}>
              {o==="all"?`All (${ARCHIVED_PATIENTS_DATA.length})`:o}
            </button>
          ))}
        </div>
        <select value={sortBy} onChange={e=>setSortBy(e.target.value)} style={{padding:"5px 10px",borderRadius:"10px",border:"1px solid rgba(200,160,140,0.4)",background:"rgba(255,255,255,0.7)",fontFamily:"'Nunito',sans-serif",fontSize:"11px",color:"#2d1a0e",cursor:"pointer",outline:"none"}}>
          <option value="discharge">Sort: Recent discharge</option>
          <option value="name">Sort: Name A‚ÄìZ</option>
          <option value="stay">Sort: Longest stay</option>
        </select>
      </div>

      {/* Table header */}
      <div style={{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 0.8fr 1fr 1fr",gap:"8px",padding:"6px 14px",fontSize:"9px",fontWeight:700,letterSpacing:"0.08em",textTransform:"uppercase",color:"#a8887a",marginBottom:"4px"}}>
        <span>Patient</span><span>Type</span><span>Admitted</span><span>Discharged</span><span>Stay</span><span>Wave</span><span>Outcome</span>
      </div>

      {/* Archive rows */}
      <div style={{display:"flex",flexDirection:"column",gap:"4px"}}>
        {pageData.map(p=>{
          const waveColor = WAVES.find(w=>w.id===p.waveCompleted)?.color||"#888";
          const outColor = OUTCOME_COLORS[p.outcome]||"#888";
          return (
            <div key={p.id} className="archive-row"
              style={{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 0.8fr 1fr 1fr",gap:"8px",alignItems:"center"}}>
              <div style={{display:"flex",alignItems:"center",gap:"8px",minWidth:0}}>
                <div style={{width:"28px",height:"28px",borderRadius:"50%",background:`${waveColor}18`,border:`1px solid ${waveColor}33`,display:"flex",alignItems:"center",justifyContent:"center",color:waveColor,fontWeight:800,fontSize:"9px",flexShrink:0}}>{p.initials}</div>
                <div style={{minWidth:0}}>
                  <div style={{fontSize:"12px",fontWeight:700,color:"#2d1a0e",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>{p.name}</div>
                  <div style={{fontSize:"9px",color:"#a8887a"}}>{p.severity}</div>
                </div>
              </div>
              <div style={{fontSize:"10px",color:"#6a5040"}}>{p.type}</div>
              <div style={{fontSize:"10px",color:"#907060"}}>{fmtDate(parseDate(p.admissionDate))}</div>
              <div style={{fontSize:"10px",color:"#907060"}}>{fmtDate(parseDate(p.dischargeDate))}</div>
              <div style={{fontSize:"11px",fontWeight:700,color:"#2d1a0e"}}>{p.stayDays}d</div>
              <div>
                <span style={{fontSize:"9px",fontWeight:700,color:waveColor,background:`${waveColor}18`,border:`1px solid ${waveColor}33`,borderRadius:"8px",padding:"2px 7px"}}>
                  W{p.waveCompleted}
                </span>
              </div>
              <div>
                <span style={{fontSize:"9px",fontWeight:700,color:outColor,background:`${outColor}18`,borderRadius:"8px",padding:"2px 7px",whiteSpace:"nowrap"}}>
                  {p.outcome}
                </span>
              </div>
            </div>
          );
        })}
        {filtered.length===0&&(
          <div style={{textAlign:"center",padding:"48px",color:"#a8887a",fontSize:"13px"}}>No records match your search</div>
        )}
      </div>

      {/* Pagination */}
      {totalPages>1&&(
        <div style={{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"16px",paddingTop:"12px",borderTop:"1px solid rgba(200,160,140,0.2)"}}>
          <button onClick={()=>setPage(p=>Math.max(0,p-1))} disabled={page===0} style={{padding:"5px 14px",borderRadius:"20px",border:"1px solid rgba(200,160,140,0.4)",background:"transparent",fontFamily:"'Nunito',sans-serif",fontSize:"11px",fontWeight:700,cursor:page===0?"default":"pointer",color:page===0?"#c4a898":"#907060",transition:"all 0.15s"}}>‚Üê Prev</button>
          <span style={{fontSize:"11px",color:"#907060"}}>Page {page+1} of {totalPages} ¬∑ {filtered.length} records</span>
          <button onClick={()=>setPage(p=>Math.min(totalPages-1,p+1))} disabled={page===totalPages-1} style={{padding:"5px 14px",borderRadius:"20px",border:"1px solid rgba(200,160,140,0.4)",background:"transparent",fontFamily:"'Nunito',sans-serif",fontSize:"11px",fontWeight:700,cursor:page===totalPages-1?"default":"pointer",color:page===totalPages-1?"#c4a898":"#907060",transition:"all 0.15s"}}>Next ‚Üí</button>
        </div>
      )}
    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ MANAGER DASHBOARD ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function ManagerDashboard({patients,onSelectPatient}){
  const sCounts={green:0,yellow:0,red:0};
  patients.forEach(p=>sCounts[p.status]=(sCounts[p.status]||0)+1);
  return (
    <div className="fade-up" style={{padding:"24px"}}>
      <div style={{display:"grid",gridTemplateColumns:"repeat(4,1fr)",gap:"14px",marginBottom:"20px"}}>
        {[
          {label:"Active Patients",value:patients.length,color:"#2980b9"},
          {label:"On Track",value:sCounts.green,color:"#27ae60"},
          {label:"Slower than expected",value:sCounts.yellow,color:"#f39c12"},
          {label:"Needs attention",value:sCounts.red,color:"#c0392b"},
        ].map((s,i)=>(
          <div key={i} className="card" style={{padding:"16px 18px",borderLeft:`3px solid ${s.color}`}}>
            <div style={{fontSize:"26px",fontWeight:800,color:s.color,fontFamily:"'Fraunces',Georgia,serif"}}>{s.value}</div>
            <div style={{fontSize:"11px",color:"#907060",marginTop:"3px"}}>{s.label}</div>
          </div>
        ))}
      </div>
      <div style={{fontSize:"12px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a",marginBottom:"10px"}}>All Patients ‚Äî Wave Status</div>
      <div style={{display:"flex",flexDirection:"column",gap:"8px"}}>
        {patients.map(p=>{
          const wave=WAVES.find(w=>w.id===p.wave);
          const pctThrough=Math.round((p.waveDay/(p.waveTotal+(p.extendedBy||0)))*100);
          const sColors={green:"#27ae60",yellow:"#f39c12",red:"#c0392b"};
          const sLabels={green:"On track",yellow:"Slower than expected",red:"Needs attention"};
          return (
            <div key={p.id} className="card card-hover" style={{padding:"12px 16px"}} onClick={()=>onSelectPatient(p)}>
              <div style={{display:"flex",alignItems:"center",gap:"12px"}}>
                <div style={{width:"32px",height:"32px",borderRadius:"50%",background:`${wave.color}20`,border:`2px solid ${wave.color}`,display:"flex",alignItems:"center",justifyContent:"center",color:wave.color,fontWeight:800,fontSize:"11px",flexShrink:0}}>{p.initials}</div>
                <div style={{flex:1,minWidth:0}}>
                  <div style={{display:"flex",alignItems:"center",gap:"6px",marginBottom:"2px",flexWrap:"wrap"}}>
                    <span style={{fontSize:"12px",fontWeight:700,color:"#2d1a0e"}}>{p.name}</span>
                    <WaveTag wave={wave} color={wave.color}/>
                    <span className={`badge badge-${p.status==="green"?"green":p.status==="yellow"?"yellow":"red"}`}><StatusDot status={p.status}/> {sLabels[p.status]}</span>
                    {p.setback&&<span className="badge badge-yellow">‚ö°</span>}
                    {p.extendedBy>0&&<span className="badge badge-orange">+{p.extendedBy}d</span>}
                    {p.alerts.some(a=>a.type==="danger")&&<span className="badge badge-red">‚ö† Conflict</span>}
                  </div>
                  <div style={{fontSize:"9px",color:"#a8887a"}}><T>{p.type}</T> ¬∑ {p.severity} ¬∑ Day {p.waveDay} in wave ¬∑ {p.pct}% milestones</div>
                </div>
                <div style={{display:"flex",gap:"16px",alignItems:"center",flexShrink:0}}>
                  <div style={{textAlign:"center"}}>
                    <div style={{fontSize:"12px",fontWeight:800,color:wave.color}}>{p.pct}%</div>
                    <div style={{fontSize:"9px",color:"#c4a898"}}>Milestones</div>
                  </div>
                  <div style={{width:"70px"}}>
                    <div style={{fontSize:"9px",color:"#a8887a",marginBottom:"2px",display:"flex",justifyContent:"space-between"}}><span>D{p.waveDay}</span><span>/{p.waveTotal+(p.extendedBy||0)}</span></div>
                    <div className="progress-bar"><div className="progress-fill" style={{width:`${pctThrough}%`,background:sColors[p.status]}}/></div>
                  </div>
                  <span style={{color:"#c8d4e0",fontSize:"14px"}}>‚Ä∫</span>
                </div>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  );
}



// ‚îÄ‚îÄ‚îÄ DASHBOARD OVERVIEW (cards + list toggle) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function DashboardOverview({visiblePatients, patients, waveFilter, selectPatient}){
  const [layout, setLayout] = React.useState("list"); // "cards" | "list"

  const sLabel={green:"On track",yellow:"Slower than expected",red:"Needs attention"};

  // ‚îÄ‚îÄ SORT state (list view only) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
  const [sortCol, setSortCol] = React.useState("name");
  const [sortDir, setSortDir] = React.useState(1); // 1=asc -1=desc

  const toggleSort = (col) => {
    if(sortCol===col) setSortDir(d=>-d);
    else { setSortCol(col); setSortDir(1); }
  };

  const sorted = React.useMemo(()=>{
    const arr = [...visiblePatients];
    arr.sort((a,b)=>{
      let av, bv;
      if(sortCol==="name")    { av=a.name;       bv=b.name; }
      else if(sortCol==="wave")   { av=a.wave;       bv=b.wave; }
      else if(sortCol==="day")    { av=a.waveDay;    bv=b.waveDay; }
      else if(sortCol==="pct")    { av=a.pct;        bv=b.pct; }
      else if(sortCol==="status") { const o={green:0,yellow:1,red:2}; av=o[a.status]; bv=o[b.status]; }
      else if(sortCol==="nihss")  { av=a.nihss||0;   bv=b.nihss||0; }
      else if(sortCol==="mrs")    { av=a.mRS||0;     bv=b.mRS||0; }
      else if(sortCol==="severity"){ av=a.severity;  bv=b.severity; }
      else if(sortCol==="type")   { av=a.type;       bv=b.type; }
      else if(sortCol==="adm")    { av=a.admissionDate; bv=b.admissionDate; }
      if(typeof av==="string") return sortDir*av.localeCompare(bv);
      return sortDir*(av-bv);
    });
    return arr;
  }, [visiblePatients, sortCol, sortDir]);

  const SortHd = ({col, label, align="left"}) => {
    const active = sortCol===col;
    return (
      <th onClick={()=>toggleSort(col)} style={{
        padding:"8px 10px", textAlign:align, cursor:"pointer",
        fontSize:"10px", fontWeight:700, letterSpacing:"0.07em",
        textTransform:"uppercase", color:active?"#3d2010":"#a8887a",
        background:active?"rgba(200,120,80,0.08)":"transparent",
        userSelect:"none", whiteSpace:"nowrap",
        borderBottom:"2px solid rgba(200,160,140,0.25)",
        transition:"all 0.12s",
      }}>
        {label}
        <span style={{marginLeft:"4px",opacity:active?1:0.3,fontSize:"9px"}}>
          {active?(sortDir===1?"‚ñ≤":"‚ñº"):"‚Üï"}
        </span>
      </th>
    );
  };

  return (
    <div className="fade-up" style={{padding:"20px 24px"}}>

      {/* ‚îÄ‚îÄ header bar ‚îÄ‚îÄ */}
      <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"14px"}}>
        <div style={{display:"flex",alignItems:"center",gap:"10px"}}>
          <div style={{fontSize:"12px",fontWeight:700,letterSpacing:"0.06em",textTransform:"uppercase",color:"#a8887a"}}>
            Active Patients
            {waveFilter&&<span style={{marginLeft:"8px",color:WAVES.find(w=>w.id===waveFilter)?.color}}>‚Äî {WAVES.find(w=>w.id===waveFilter)?.name}</span>}
          </div>
          <div style={{background:"rgba(200,120,80,0.12)",borderRadius:"20px",padding:"2px 10px",fontSize:"11px",fontWeight:700,color:"#a86040"}}>
            {visiblePatients.length}{waveFilter?` of ${patients.length}`:""}
          </div>
        </div>
        <div style={{display:"flex",alignItems:"center",gap:"8px"}}>
          <span style={{fontSize:"10px",color:"#b8987a"}}>Click a wave tab to filter</span>
          {/* layout toggle */}
          {[
            {id:"cards", icon:<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>},
            {id:"list",  icon:<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><line x1="8" y1="6" x2="21" y2="6"/><line x1="8" y1="12" x2="21" y2="12"/><line x1="8" y1="18" x2="21" y2="18"/><line x1="3" y1="6" x2="3.01" y2="6"/><line x1="3" y1="12" x2="3.01" y2="12"/><line x1="3" y1="18" x2="3.01" y2="18"/></svg>},
          ].map(({id,icon})=>(
            <button key={id} onClick={()=>setLayout(id)} style={{
              padding:"5px 12px", borderRadius:"20px", border:"none",
              fontFamily:"'Nunito',sans-serif", fontSize:"11px", fontWeight:700,
              cursor:"pointer", display:"flex", alignItems:"center", gap:"5px",
              background:layout===id?"#3d2010":"rgba(255,255,255,0.6)",
              color:layout===id?"#fff":"#907060",
              transition:"all 0.15s",
            }}>{icon}</button>
          ))}
        </div>
      </div>

      {/* ‚îÄ‚îÄ CARDS VIEW ‚îÄ‚îÄ */}
      {layout==="cards"&&(
        <div style={{display:"grid",gridTemplateColumns:"repeat(auto-fill,minmax(300px,1fr))",gap:"14px"}}>
          {visiblePatients.map(p=>{
            const wave=WAVES.find(w=>w.id===p.wave);
            const admDate=parseDate(p.admissionDate);
            const waveDates=getWaveDates(p.admissionDate,p.waveDurations);
            const wEndDate=waveDates[p.wave].end;
            return (
              <div key={p.id} className="card card-hover" style={{padding:"14px 16px",borderTop:`3px solid ${wave.color}`}} onClick={()=>selectPatient(p)}>
                <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"}}>
                  <div style={{display:"flex",alignItems:"center",gap:"8px"}}>
                    <div style={{width:"32px",height:"32px",borderRadius:"50%",background:`${wave.color}18`,border:`2px solid ${wave.color}33`,display:"flex",alignItems:"center",justifyContent:"center",color:wave.color,fontWeight:800,fontSize:"11px"}}>{p.initials}</div>
                    <div>
                      <div style={{fontSize:"13px",fontWeight:800,color:"#2d1a0e"}}>{p.name}</div>
                      <div style={{fontSize:"10px",color:"#a8887a"}}><T>{p.type}</T> ¬∑ {p.severity}</div>
                    </div>
                  </div>
                  <ProgressRing pct={p.pct} color={wave.color} size={38}/>
                </div>
                <div style={{display:"flex",gap:"5px",marginBottom:"8px",flexWrap:"wrap"}}>
                  <WaveTag wave={wave} color={wave.color}/>
                  <span className={`badge badge-${p.status==="green"?"green":p.status==="yellow"?"yellow":"red"}`}><StatusDot status={p.status}/> {sLabel[p.status]}</span>
                  {p.setback&&<span className="badge badge-yellow">‚ö° Setback</span>}
                  {p.extendedBy>0&&<span className="badge badge-orange">+{p.extendedBy}d</span>}
                </div>
                <div style={{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#a8887a",marginBottom:"5px",padding:"4px 8px",background:"rgba(255,255,255,0.5)",borderRadius:"8px"}}>
                  <span>üìÖ {fmtDate(admDate)}</span>
                  <span style={{color:wave.color,fontWeight:600}}>Wave ends {fmtDate(wEndDate)}</span>
                </div>
                <div style={{marginBottom:"6px"}}>
                  <div style={{display:"flex",justifyContent:"space-between",fontSize:"10px",color:"#a8887a",marginBottom:"3px"}}><span>Day {p.waveDay} of {p.waveTotal+(p.extendedBy||0)}</span><span>{p.pct}% milestones</span></div>
                  <div className="progress-bar"><div className="progress-fill" style={{width:`${p.pct}%`,background:wave.color}}/></div>
                </div>
                {p.alerts.length>0&&(
                  <div style={{fontSize:"10px",color:p.alerts[0].type==="danger"?"#b02020":p.alerts[0].type==="warning"?"#9a6c00":"#2050a0",background:p.alerts[0].type==="danger"?"#fdeaea":p.alerts[0].type==="warning"?"#fef5dd":"#e2eeff",padding:"4px 8px",borderRadius:"8px",lineHeight:1.4}}>
                    <T>{p.alerts[0].msg}</T>
                  </div>
                )}
              </div>
            );
          })}
          {visiblePatients.length===0&&(
            <div style={{gridColumn:"1/-1",textAlign:"center",padding:"48px",color:"#a8887a",fontSize:"13px"}}>
              No patients currently in {WAVES.find(w=>w.id===waveFilter)?.name}
            </div>
          )}
        </div>
      )}

      {/* ‚îÄ‚îÄ LIST VIEW ‚îÄ‚îÄ */}
      {layout==="list"&&(
        <div style={{background:"rgba(255,255,255,0.6)",borderRadius:"16px",border:"1px solid rgba(200,160,140,0.2)",overflow:"hidden",boxShadow:"0 2px 12px rgba(100,60,30,0.06)"}}>
          <div style={{overflowX:"auto"}}>
            <table style={{width:"100%",borderCollapse:"collapse",minWidth:"900px"}}>
              <thead>
                <tr style={{background:"rgba(253,247,242,0.95)"}}>
                  <SortHd col="name"     label="Patient"/>
                  <SortHd col="wave"     label="Wave" align="center"/>
                  <SortHd col="type"     label="Stroke Type"/>
                  <SortHd col="severity" label="Severity"/>
                  <SortHd col="adm"      label="Admitted" align="center"/>
                  <SortHd col="day"      label="Wave Day" align="center"/>
                  <SortHd col="pct"      label="Milestones" align="center"/>
                  <SortHd col="status"   label="Status" align="center"/>
                  <SortHd col="nihss"    label="NIHSS" align="center"/>
                  <SortHd col="mrs"      label="mRS" align="center"/>
                  <th style={{padding:"8px 10px",fontSize:"10px",fontWeight:700,letterSpacing:"0.07em",textTransform:"uppercase",color:"#a8887a",textAlign:"left",borderBottom:"2px solid rgba(200,160,140,0.25)"}}>Alerts</th>
                </tr>
              </thead>
              <tbody>
                {sorted.map((p,i)=>{
                  const wave=WAVES.find(w=>w.id===p.wave);
                  const statusColors={green:"#27ae60",yellow:"#e67e22",red:"#c0392b"};
                  const statusBg={green:"#eafaf1",yellow:"#fef5e7",red:"#fdecea"};
                  const statusLabel={green:"On track",yellow:"Slower",red:"Attention"};
                  const hasFlag = p.alerts.some(a=>a.type==="danger");
                  const hasWarn = p.alerts.some(a=>a.type==="warning");
                  return (
                    <tr key={p.id}
                      onClick={()=>selectPatient(p)}
                      style={{
                        cursor:"pointer",
                        background:i%2===0?"rgba(255,255,255,0.5)":"rgba(253,247,242,0.4)",
                        borderBottom:"1px solid rgba(200,160,140,0.1)",
                        transition:"background 0.1s",
                      }}
                      onMouseEnter={e=>e.currentTarget.style.background="rgba(200,120,80,0.07)"}
                      onMouseLeave={e=>e.currentTarget.style.background=i%2===0?"rgba(255,255,255,0.5)":"rgba(253,247,242,0.4)"}
                    >
                      {/* Patient name */}
                      <td style={{padding:"10px 10px"}}>
                        <div style={{display:"flex",alignItems:"center",gap:"8px"}}>
                          <div style={{width:"28px",height:"28px",borderRadius:"50%",background:`${wave.color}18`,border:`2px solid ${wave.color}44`,display:"flex",alignItems:"center",justifyContent:"center",color:wave.color,fontWeight:800,fontSize:"10px",flexShrink:0}}>{p.initials}</div>
                          <div>
                            <div style={{fontSize:"12px",fontWeight:800,color:"#2d1a0e",whiteSpace:"nowrap"}}>{p.name}</div>
                            <div style={{fontSize:"9px",color:"#b0907a"}}>id {p.id}</div>
                          </div>
                        </div>
                      </td>
                      {/* Wave */}
                      <td style={{padding:"10px 10px",textAlign:"center"}}>
                        <span style={{display:"inline-block",background:`${wave.color}15`,color:wave.color,border:`1px solid ${wave.color}44`,borderRadius:"10px",padding:"2px 8px",fontSize:"10px",fontWeight:700,whiteSpace:"nowrap"}}>
                          W{wave.id}
                        </span>
                      </td>
                      {/* Stroke type */}
                      <td style={{padding:"10px 10px",fontSize:"11px",color:"#3a2010",maxWidth:"140px"}}>
                        <T>{p.type}</T>
                      </td>
                      {/* Severity */}
                      <td style={{padding:"10px 10px"}}>
                        <span style={{fontSize:"10px",color:p.severity==="Severe"?"#b02020":p.severity==="Moderate"?"#9a6c00":"#2a7a40",fontWeight:600}}>
                          {p.severity}
                        </span>
                      </td>
                      {/* Admitted */}
                      <td style={{padding:"10px 10px",textAlign:"center",fontSize:"10px",color:"#907060",whiteSpace:"nowrap"}}>
                        {fmtDate(parseDate(p.admissionDate))}
                      </td>
                      {/* Wave day */}
                      <td style={{padding:"10px 10px",textAlign:"center"}}>
                        <div style={{fontSize:"11px",fontWeight:700,color:wave.color}}>{p.waveDay}</div>
                        <div style={{fontSize:"9px",color:"#b0907a"}}>of {p.waveTotal+(p.extendedBy||0)}</div>
                        {p.extendedBy>0&&<div style={{fontSize:"8px",color:"#c0702a",fontWeight:700}}>+{p.extendedBy}d ext</div>}
                      </td>
                      {/* Milestones */}
                      <td style={{padding:"10px 10px",textAlign:"center",minWidth:"90px"}}>
                        <div style={{display:"flex",alignItems:"center",gap:"5px"}}>
                          <div style={{flex:1,height:"5px",borderRadius:"4px",background:"rgba(200,160,140,0.2)",overflow:"hidden"}}>
                            <div style={{height:"100%",width:`${p.pct}%`,background:wave.color,borderRadius:"4px",transition:"width 0.3s"}}/>
                          </div>
                          <span style={{fontSize:"10px",fontWeight:700,color:wave.color,flexShrink:0}}>{p.pct}%</span>
                        </div>
                      </td>
                      {/* Status */}
                      <td style={{padding:"10px 10px",textAlign:"center"}}>
                        <span style={{display:"inline-flex",alignItems:"center",gap:"4px",background:statusBg[p.status],color:statusColors[p.status],border:`1px solid ${statusColors[p.status]}33`,borderRadius:"10px",padding:"2px 8px",fontSize:"9px",fontWeight:700,whiteSpace:"nowrap"}}>
                          <span style={{width:"6px",height:"6px",borderRadius:"50%",background:statusColors[p.status],display:"inline-block",flexShrink:0}}/>
                          {statusLabel[p.status]}
                        </span>
                        {p.setback&&<div style={{fontSize:"8px",color:"#b07800",fontWeight:700,marginTop:"2px"}}>‚ö° setback</div>}
                      </td>
                      {/* NIHSS */}
                      <td style={{padding:"10px 10px",textAlign:"center"}}>
                        <span style={{fontSize:"12px",fontWeight:700,color:p.nihss>=15?"#c0392b":p.nihss>=8?"#e67e22":"#27ae60"}}>
                          {p.nihss??"-"}
                        </span>
                      </td>
                      {/* mRS */}
                      <td style={{padding:"10px 10px",textAlign:"center"}}>
                        <span style={{fontSize:"12px",fontWeight:700,color:p.mRS>=4?"#c0392b":p.mRS>=3?"#e67e22":"#27ae60"}}>
                          {p.mRS??"-"}
                        </span>
                      </td>
                      {/* Alerts */}
                      <td style={{padding:"10px 10px",maxWidth:"200px"}}>
                        {p.alerts.length===0?(
                          <span style={{fontSize:"9px",color:"#c4a898"}}>‚Äî</span>
                        ):(
                          <div style={{display:"flex",flexDirection:"column",gap:"3px"}}>
                            {p.alerts.slice(0,2).map((a,ai)=>(
                              <div key={ai} style={{fontSize:"9px",color:a.type==="danger"?"#b02020":a.type==="warning"?"#9a6c00":"#2050a0",background:a.type==="danger"?"#fdeaea":a.type==="warning"?"#fef5dd":"#e2eeff",padding:"2px 6px",borderRadius:"6px",lineHeight:1.4,maxWidth:"190px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}>
                                <T>{a.msg}</T>
                              </div>
                            ))}
                            {p.alerts.length>2&&<div style={{fontSize:"9px",color:"#a8887a"}}>+{p.alerts.length-2} more</div>}
                          </div>
                        )}
                      </td>
                    </tr>
                  );
                })}
                {sorted.length===0&&(
                  <tr><td colSpan="11" style={{textAlign:"center",padding:"48px",color:"#a8887a",fontSize:"13px"}}>
                    No patients currently in {WAVES.find(w=>w.id===waveFilter)?.name}
                  </td></tr>
                )}
              </tbody>
            </table>
          </div>
          {/* Table footer summary */}
          <div style={{padding:"8px 16px",background:"rgba(253,247,242,0.8)",borderTop:"1px solid rgba(200,160,140,0.15)",display:"flex",gap:"16px",flexWrap:"wrap",alignItems:"center"}}>
            {[{label:"On track",color:"#27ae60",key:"green"},{label:"Slower",color:"#e67e22",key:"yellow"},{label:"Attention",color:"#c0392b",key:"red"}].map(s=>(
              <span key={s.key} style={{display:"flex",alignItems:"center",gap:"5px",fontSize:"10px",color:s.color,fontWeight:700}}>
                <span style={{width:"7px",height:"7px",borderRadius:"50%",background:s.color,display:"inline-block"}}/>
                {sorted.filter(p=>p.status===s.key).length} {s.label}
              </span>
            ))}
            <span style={{fontSize:"10px",color:"#a8887a",marginLeft:"auto"}}>Click any row to open patient ¬∑ Click column headers to sort</span>
          </div>
        </div>
      )}

    </div>
  );
}

// ‚îÄ‚îÄ‚îÄ ROOT APP ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function App(){
  const [view, setView] = useState("dashboard");
  const [selectedPatient, setSelectedPatient] = useState(null);
  const [activeNav, setActiveNav] = useState("overview"); // overview | team | calendar | archive
  const [patients, setPatients] = useState(INIT_PATIENTS);
  const [waveFilter, setWaveFilter] = useState(null);

  useEffect(()=>{
    if(selectedPatient) setSelectedPatient(patients.find(p=>p.id===selectedPatient.id));
  },[patients]);

  const selectPatient=(p)=>{
    setSelectedPatient(patients.find(x=>x.id===p.id));
    setView("patient");
    setWaveFilter(null);
    setActiveNav("overview");
  };
  const goBack=()=>{
    setView("dashboard");
    setSelectedPatient(null);
  };

  const activePatientWaves = new Set(patients.map(p=>p.wave));
  const visiblePatients = waveFilter ? patients.filter(p=>p.wave===waveFilter) : patients;

  const getWaveTabStyle = (w) => {
    if(view==="patient"&&selectedPatient){
      const isCurrentPatientWave = selectedPatient.wave===w.id;
      return { highlighted:isCurrentPatientWave, filtered:false, dimmed:!isCurrentPatientWave, borderColor:isCurrentPatientWave?w.color:"transparent", bg:isCurrentPatientWave?`${w.color}08`:"transparent" };
    }
    const hasPatients = activePatientWaves.has(w.id);
    const isFiltered = waveFilter===w.id;
    return { highlighted:hasPatients, filtered:isFiltered, dimmed:!hasPatients, borderColor:hasPatients?w.color:"transparent", bg:isFiltered?`${w.color}12`:"transparent" };
  };

  const handleWaveTabClick=(w)=>{
    if(view==="patient") return;
    if(!activePatientWaves.has(w.id)) return;
    setWaveFilter(prev=>prev===w.id?null:w.id);
  };

  const NAV_ITEMS = [
    {id:"overview", label:"Patient Overview"},
    {id:"team",     label:"Manager View"},
    {id:"calendar", label:"Calendar"},
    {id:"archive",  label:"Archive"},
  ];
  const NAV_ICONS = {
    overview: (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>),
    team:     (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>),
    calendar: (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>),
    archive:  (<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.2" strokeLinecap="round" strokeLinejoin="round"><polyline points="21 8 21 21 3 21 3 8"/><rect x="1" y="3" width="22" height="5"/><line x1="10" y1="12" x2="14" y2="12"/></svg>),
  };

  // Show wave strip only in overview/team/patient views
  const showWaveStrip = activeNav!=="calendar" && activeNav!=="archive";

  return (
    <TooltipProvider>
      <div style={{display:"flex",flexDirection:"column",height:"100vh",background:"#f5ede8"}}>

        {/* ‚îÄ‚îÄ TOP NAV ‚îÄ‚îÄ */}
        <div style={{background:"#3d2010",padding:"0 24px",display:"flex",alignItems:"center",justifyContent:"space-between",flexShrink:0,height:"52px"}}>
          <div style={{display:"flex",alignItems:"center",gap:"12px"}}>
            <div style={{width:"32px",height:"32px",borderRadius:"10px",background:"linear-gradient(135deg,#f8b89a,#e8785a)",display:"flex",alignItems:"center",justifyContent:"center"}}>
              <span style={{color:"#fff",fontSize:"16px"}}>‚öï</span>
            </div>
            <div>
              <div style={{color:"#f8b89a",fontWeight:300,fontSize:"18px",letterSpacing:"0.02em",fontFamily:"'Fraunces',Georgia,serif",fontStyle:"italic",lineHeight:1}}>Waves</div>
              <div style={{color:"rgba(255,255,255,0.4)",fontSize:"9px",letterSpacing:"0.1em",textTransform:"uppercase"}}>Stroke Recovery Platform</div>
            </div>
            <div style={{width:"1px",height:"24px",background:"rgba(255,255,255,0.1)",margin:"0 8px"}}/>
            {NAV_ITEMS.map(n=>(
              <button key={n.id} className={`nav-btn ${activeNav===n.id?"active":""}`}
                onClick={()=>{setActiveNav(n.id);if(n.id!=="calendar"&&n.id!=="archive"){setView("dashboard");setSelectedPatient(null);setWaveFilter(null);}else{setView("dashboard");}}}
                style={{color:activeNav===n.id?"#3d2010":"#c4a898",display:"flex",alignItems:"center",gap:"5px"}}>
                {NAV_ICONS[n.id]}{n.label}
              </button>
            ))}
          </div>
          <div style={{display:"flex",alignItems:"center",gap:"10px"}}>
            <div style={{fontSize:"10px",color:"rgba(255,255,255,0.4)",background:"rgba(255,255,255,0.06)",padding:"4px 10px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.08)"}}>
              Feb 20, 2026 ¬∑ <span style={{color:"#f8b89a",fontWeight:700}}>Dr. A. Chen</span> ¬∑ Neuro
            </div>
            <div style={{width:"30px",height:"30px",borderRadius:"50%",background:"linear-gradient(135deg,#e8785a,#c0392b)",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontWeight:700,fontSize:"11px"}}>AC</div>
          </div>
        </div>

        {/* ‚îÄ‚îÄ WAVE FILTER STRIP ‚îÄ‚îÄ */}
        {showWaveStrip&&(
          <div style={{background:"rgba(255,255,255,0.6)",borderBottom:"1px solid rgba(200,160,140,0.3)",padding:"0 24px",flexShrink:0,overflowX:"auto"}}>
            <div style={{display:"flex",minWidth:"fit-content",alignItems:"stretch"}}>
              {WAVES.map(w=>{
                const ts=getWaveTabStyle(w);
                return (
                  <div key={w.id}
                    className={`wave-strip-tab ${ts.dimmed?"dimmed":""}`}
                    onClick={()=>handleWaveTabClick(w)}
                    style={{borderBottom:`3px solid ${ts.borderColor}`,background:ts.bg,cursor:ts.dimmed?"default":view==="patient"?"default":"pointer",paddingTop:"8px",paddingBottom:"0"}}>
                    {ts.filtered&&(
                      <div style={{position:"absolute",top:"4px",right:"6px",width:"6px",height:"6px",borderRadius:"50%",background:w.color}}/>
                    )}
                    <div style={{fontSize:"9px",color:w.color,fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase"}}>{w.name}</div>
                    <div style={{fontSize:"11px",color:ts.highlighted?"#2d1a0e":"#c4a898",fontWeight:ts.highlighted?600:400,lineHeight:1.2}}>{w.label}</div>
                    <div style={{fontSize:"9px",color:"#a8887a",marginTop:"1px",paddingBottom:"6px"}}>{w.tf}</div>
                    {view==="dashboard"&&activeNav==="overview"&&activePatientWaves.has(w.id)&&(
                      <div style={{position:"absolute",top:"6px",right:"8px",background:w.color,color:"#fff",borderRadius:"20px",fontSize:"9px",fontWeight:700,padding:"1px 6px",lineHeight:1.4}}>
                        {patients.filter(p=>p.wave===w.id).length}
                      </div>
                    )}
                  </div>
                );
              })}
              {waveFilter&&view==="dashboard"&&(
                <div style={{display:"flex",alignItems:"center",paddingLeft:"12px",borderLeft:"1px solid rgba(200,160,140,0.2)",marginLeft:"4px"}}>
                  <span style={{fontSize:"10px",color:"#907060",display:"flex",alignItems:"center",gap:"6px"}}>
                    Showing: <strong style={{color:WAVES.find(w=>w.id===waveFilter)?.color}}>{WAVES.find(w=>w.id===waveFilter)?.name} only</strong>
                    <button onClick={()=>setWaveFilter(null)} style={{background:"none",border:"1px solid rgba(200,160,140,0.4)",borderRadius:"8px",padding:"1px 7px",cursor:"pointer",fontSize:"9px",color:"#907060",fontFamily:"'Nunito',sans-serif"}}>‚úï Clear</button>
                  </span>
                </div>
              )}
            </div>
          </div>
        )}

        {/* ‚îÄ‚îÄ CONTENT ‚îÄ‚îÄ */}
        <div style={{flex:1,overflowY:"auto"}}>

          {/* Calendar View */}
          {activeNav==="calendar"&&(
            <div style={{height:"100%",display:"flex",flexDirection:"column"}}>
              <CalendarView onSelectPatient={selectPatient} patients={patients}/>
            </div>
          )}

          {/* Archive View */}
          {activeNav==="archive"&&(
            <ArchiveView/>
          )}

          {/* Patient views */}
          {activeNav!=="calendar"&&activeNav!=="archive"&&(
            <>
              {view==="dashboard"&&(
                activeNav==="team"
                ? <ManagerDashboard patients={visiblePatients} onSelectPatient={selectPatient}/>
                : (
                  <DashboardOverview visiblePatients={visiblePatients} patients={patients} waveFilter={waveFilter} selectPatient={selectPatient}/>
                )
              )}
              {view==="patient"&&selectedPatient&&(
                <PatientDetail patient={selectedPatient} onBack={goBack} setPatients={setPatients}/>
              )}
            </>
          )}
        </div>

        {/* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */}
        <div style={{background:"rgba(255,255,255,0.5)",borderTop:"1px solid rgba(200,160,140,0.25)",padding:"5px 24px",display:"flex",alignItems:"center",gap:"12px",flexShrink:0,flexWrap:"wrap"}}>
          <span style={{fontSize:"9px",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"#c4a898"}}>Waves v2 ¬∑</span>
          {["50 active patients","150 patient archive","Calendar + handoff view","Wave filter tabs","Milestone tracking","Cohort predictions","Duration sliders","Hover abbreviations"].map((f,i)=>(
            <span key={i} style={{fontSize:"10px",color:"#a8887a",display:"flex",alignItems:"center",gap:"3px"}}>
              <span style={{width:"4px",height:"4px",borderRadius:"50%",background:"rgba(200,120,80,0.5)",display:"inline-block"}}/>
              {f}
            </span>
          ))}
        </div>
      </div>
    </TooltipProvider>
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
</script>
<script src="https://mcp.figma.com/mcp/html-to-design/capture.js" async></script>
</body>
</html>